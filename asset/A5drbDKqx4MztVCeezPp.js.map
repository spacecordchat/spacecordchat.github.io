{"version":3,"file":"A5drbDKqx4MztVCeezPp.js","sources":["../../src/components/messaging/TypingIndicator.tsx"],"sourcesContent":["import { observer } from \"mobx-react-lite\";\nimport { Fragment } from \"react\";\nimport { PulseLoader } from \"react-spinners\";\nimport styled from \"styled-components\";\nimport Channel from \"../../stores/objects/Channel\";\n\nconst Container = styled.div`\n\toverflow: visible;\n\tposition: absolute;\n\tbottom: 1px;\n\tleft: 16px;\n\tright: 16px;\n\theight: 24px;\n\tfont-size: 14px;\n\tfont-weight: var(--font-weight-medium);\n\tresize: none;\n\tdisplay: flex;\n\talign-items: center;\n\tcolor: var(--text);\n`;\n\nconst Wrapper = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\toverflow: hidden;\n`;\n\nconst TypingText = styled.span`\n\twhite-space: nowrap;\n\tmargin-left: 4px;\n\tfont-weight: var(--font-weight-light);\n`;\n\nconst Bold = styled.b`\n\tfont-weight: var(--font-weight-medium);\n\tfont-size: 14px;\n`;\n\ninterface Props {\n\tchannel: Channel;\n}\n\nfunction TypingIndicator({ channel }: Props) {\n\tif (channel.typingUsers.length > 0) {\n\t\tchannel.typingUsers.sort((a, b) => a.username.toUpperCase().localeCompare(b.username.toUpperCase()));\n\n\t\tlet text;\n\t\tif (channel.typingUsers.length >= 5) {\n\t\t\ttext = <TypingText>Several people are typing...</TypingText>;\n\t\t} else if (channel.typingUsers.length > 1) {\n\t\t\tconst userlist = channel.typingUsers.map((x) => x.username);\n\t\t\tconst user = userlist.pop();\n\n\t\t\ttext = (\n\t\t\t\t<TypingText>\n\t\t\t\t\t{userlist.map((x, i) => (\n\t\t\t\t\t\t<Fragment key={i}>\n\t\t\t\t\t\t\t<Bold>{x}</Bold>\n\t\t\t\t\t\t\t{i !== userlist.length - 1 ? \", \" : \"\"}\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t))}{\" \"}\n\t\t\t\t\tand <Bold>{user}</Bold> are typing...\n\t\t\t\t</TypingText>\n\t\t\t);\n\t\t} else {\n\t\t\ttext = (\n\t\t\t\t<TypingText>\n\t\t\t\t\t<Bold>{channel.typingUsers[0].username}</Bold> is typing...\n\t\t\t\t</TypingText>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Wrapper>\n\t\t\t\t\t<PulseLoader size={6} color=\"var(--text)\" />\n\t\t\t\t\t<TypingText>{text}</TypingText>\n\t\t\t\t</Wrapper>\n\t\t\t</Container>\n\t\t);\n\t}\n\n\treturn null;\n}\n\nexport default observer(TypingIndicator);\n"],"names":["Container","styled","Wrapper","TypingText","Bold","TypingIndicator","channel","a","b","text","jsx","userlist","x","user","i","Fragment","jsxs","PulseLoader","TypingIndicator$1","observer"],"mappings":"2EAMA,MAAMA,EAAYC,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAenBC,EAAUD,EAAO;AAAA;AAAA;AAAA;AAAA,EAMjBE,EAAaF,EAAO;AAAA;AAAA;AAAA;AAAA,EAMpBG,EAAOH,EAAO;AAAA;AAAA;AAAA,EASpB,SAASI,EAAgB,CAAE,QAAAC,GAAkB,CACxC,GAAAA,EAAQ,YAAY,OAAS,EAAG,CACnCA,EAAQ,YAAY,KAAK,CAACC,EAAGC,IAAMD,EAAE,SAAS,YAAY,EAAE,cAAcC,EAAE,SAAS,YAAa,CAAA,CAAC,EAE/F,IAAAC,EACA,GAAAH,EAAQ,YAAY,QAAU,EAC1BG,EAAAC,EAAAA,IAACP,GAAW,SAA4B,8BAAA,CAAA,UACrCG,EAAQ,YAAY,OAAS,EAAG,CAC1C,MAAMK,EAAWL,EAAQ,YAAY,IAAKM,GAAMA,EAAE,QAAQ,EACpDC,EAAOF,EAAS,IAAI,EAE1BF,SACEN,EACC,CAAA,SAAA,CAAAQ,EAAS,IAAI,CAACC,EAAGE,WAChBC,EAAAA,SACA,CAAA,SAAA,CAAAL,EAAAA,IAACN,GAAM,SAAEQ,CAAA,CAAA,EACRE,IAAMH,EAAS,OAAS,EAAI,KAAO,EAAA,CAAA,EAFtBG,CAGf,CACA,EAAG,IAAI,OACJJ,EAAAA,IAACN,GAAM,SAAKS,CAAA,CAAA,EAAO,gBAAA,EACxB,CAAA,MAGDJ,SACEN,EACA,CAAA,SAAA,CAAAO,MAACN,EAAM,CAAA,SAAAE,EAAQ,YAAY,CAAC,EAAE,SAAS,EAAO,eAAA,EAC/C,EAKD,OAAAI,EAAAA,IAACV,EACA,CAAA,SAAAgB,EAAAA,KAACd,EACA,CAAA,SAAA,CAAAQ,EAAA,IAACO,EAAY,CAAA,KAAM,EAAG,MAAM,cAAc,EAC1CP,EAAAA,IAACP,GAAY,SAAKM,CAAA,CAAA,CAAA,CAAA,CACnB,CACD,CAAA,CAAA,CAIK,OAAA,IACR,CAEA,MAAeS,EAAAC,EAASd,CAAe"}