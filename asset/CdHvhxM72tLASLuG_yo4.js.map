{"version":3,"file":"CdHvhxM72tLASLuG_yo4.js","sources":["../../src/components/floating/Floating.tsx"],"sourcesContent":["import { FloatingArrow, FloatingPortal, Placement } from \"@floating-ui/react\";\nimport { motion } from \"framer-motion\";\nimport { FloatingContext } from \"../../contexts/FloatingContext\";\nimport useFloating from \"../../hooks/useFloating\";\nimport Guild from \"../../stores/objects/Guild\";\nimport GuildMember from \"../../stores/objects/GuildMember\";\nimport User from \"../../stores/objects/User\";\nimport Tooltip from \"../Tooltip\";\nimport GuildMenuPopout from \"./GuildMenuPopout\";\nimport UserProfilePopout from \"./UserProfilePopout\";\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ntype Components = Record<string, React.FC<any>>;\n\nconst components: Components = {\n\tuserPopout: UserProfilePopout,\n\ttooltip: Tooltip,\n\tguild: GuildMenuPopout,\n};\n\nexport type FloatingOptions = {\n\tinitialOpen?: boolean;\n\tplacement?: Placement;\n\toffset?: number;\n\topen?: boolean;\n\tonOpenChange?: (open: boolean) => void;\n} & (\n\t| {\n\t\t\ttype: \"userPopout\";\n\t\t\tprops: {\n\t\t\t\tuser: User;\n\t\t\t\tmember?: GuildMember;\n\t\t\t};\n\t  }\n\t| {\n\t\t\ttype: \"tooltip\";\n\t\t\tprops: {\n\t\t\t\tcontent: JSX.Element;\n\t\t\t\taria?: string;\n\t\t\t};\n\t  }\n\t| {\n\t\t\ttype: \"guild\";\n\t\t\tprops: {\n\t\t\t\tguild: Guild;\n\t\t\t};\n\t  }\n);\n\nexport type FloatingProps<T extends FloatingOptions[\"type\"]> = (FloatingOptions & {\n\ttype: T;\n})[\"props\"];\n\nfunction Floating({\n\ttype,\n\tchildren,\n\tprops,\n\t...restOptions\n}: {\n\tchildren: React.ReactNode;\n} & FloatingOptions) {\n\tconst floating = useFloating({ type, ...restOptions });\n\n\tconst Component = components[type];\n\n\treturn (\n\t\t<FloatingContext.Provider value={floating}>\n\t\t\t{children}\n\t\t\t{Component && floating.open && (\n\t\t\t\t<FloatingPortal>\n\t\t\t\t\t<motion.div\n\t\t\t\t\t\tinitial={{ opacity: 0 }}\n\t\t\t\t\t\tanimate={{ opacity: 1 }}\n\t\t\t\t\t\texit={{ opacity: 0 }}\n\t\t\t\t\t\ttransition={{ duration: 0.1, easing: [0.87, 0, 0.13, 1] }}\n\t\t\t\t\t\tref={floating.refs.setFloating}\n\t\t\t\t\t\tstyle={{ ...floating.context.floatingStyles, zIndex: 1000, outline: \"none\" }}\n\t\t\t\t\t\t{...floating.getFloatingProps()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Component {...props} />\n\t\t\t\t\t\t{type === \"tooltip\" && (\n\t\t\t\t\t\t\t<FloatingArrow\n\t\t\t\t\t\t\t\tref={floating.arrowRef}\n\t\t\t\t\t\t\t\tcontext={floating.context}\n\t\t\t\t\t\t\t\tfill=\"var(--background-tertiary)\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</motion.div>\n\t\t\t\t</FloatingPortal>\n\t\t\t)}\n\t\t</FloatingContext.Provider>\n\t);\n}\n\nexport default Floating;\n"],"names":["components","UserProfilePopout","Tooltip","GuildMenuPopout","Floating","type","children","props","restOptions","floating","useFloating","Component","jsxs","FloatingContext","jsx","FloatingPortal","motion","FloatingArrow"],"mappings":"oSAcA,MAAMA,EAAyB,CAC9B,WAAYC,EACZ,QAASC,EACT,MAAOC,CACR,EAmCA,SAASC,EAAS,CACjB,KAAAC,EACA,SAAAC,EACA,MAAAC,EACA,GAAGC,CACJ,EAEqB,CACpB,MAAMC,EAAWC,EAAY,CAAE,KAAAL,EAAM,GAAGG,EAAa,EAE/CG,EAAYX,EAAWK,CAAI,EAEjC,OACEO,EAAAA,KAAAC,EAAgB,SAAhB,CAAyB,MAAOJ,EAC/B,SAAA,CAAAH,EACAK,GAAaF,EAAS,MACtBK,EAAA,IAACC,EACA,CAAA,SAAAH,EAAA,KAACI,EAAO,IAAP,CACA,QAAS,CAAE,QAAS,CAAE,EACtB,QAAS,CAAE,QAAS,CAAE,EACtB,KAAM,CAAE,QAAS,CAAE,EACnB,WAAY,CAAE,SAAU,GAAK,OAAQ,CAAC,IAAM,EAAG,IAAM,CAAC,CAAE,EACxD,IAAKP,EAAS,KAAK,YACnB,MAAO,CAAE,GAAGA,EAAS,QAAQ,eAAgB,OAAQ,IAAM,QAAS,MAAO,EAC1E,GAAGA,EAAS,iBAAiB,EAE9B,SAAA,CAACK,EAAAA,IAAAH,EAAA,CAAW,GAAGJ,EAAO,EACrBF,IAAS,WACTS,EAAA,IAACG,EAAA,CACA,IAAKR,EAAS,SACd,QAASA,EAAS,QAClB,KAAK,4BAAA,CAAA,CACN,CAAA,CAAA,CAGH,CAAA,CAAA,EAEF,CAEF"}