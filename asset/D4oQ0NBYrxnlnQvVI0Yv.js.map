{"version":3,"file":"D4oQ0NBYrxnlnQvVI0Yv.js","sources":["../../src/components/messaging/attachments/AttachmentUploadProgress.tsx"],"sourcesContent":["import { observer } from \"mobx-react-lite\";\nimport styled from \"styled-components\";\nimport { useAppStore } from \"../../../hooks/useAppStore\";\nimport QueuedMessage from \"../../../stores/objects/QueuedMessage\";\nimport { bytesToSize } from \"../../../utils/Utils\";\nimport Icon from \"../../Icon\";\nimport IconButton from \"../../IconButton\";\n\nconst Container = styled.div`\n\twidth: 520px;\n\tmin-width: auto;\n\tborder: 1px solid transparent;\n\tpadding: 10px;\n\tborder-radius: 4px;\n\tbackground-color: var(--background-secondary);\n\tborder-color: var(--background-secondary-alt);\n\tflex-direction: row;\n\talign-items: center;\n\tdisplay: flex;\n`;\n\nconst Wrapper = styled.div`\n\tflex: 1;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\n\t.muted {\n\t\tcolor: var(--text-secondary);\n\t}\n`;\n\nconst Progress = styled.progress`\n\theight: 6px;\n\twidth: 100%;\n`;\n\nconst CustomIcon = styled(Icon)`\n\tcolor: var(--text-secondary);\n\n\t&:hover {\n\t\tcolor: var(--text);\n\t}\n`;\n\ninterface Props {\n\tmessage: QueuedMessage;\n}\n\nfunction AttachmentUploadProgress({ message }: Props) {\n\tconst app = useAppStore();\n\tconst totalSize = message.files!.reduce((p, f) => p + f.size, 0);\n\n\treturn (\n\t\t<Container>\n\t\t\t<Wrapper>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tgap: \"5px\",\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<span>Uploading</span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{message.files!.length === 1 ? message.files![0].name : `${message.files!.length} files`}\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"muted\">-</span>\n\t\t\t\t\t<span className=\"muted\">{bytesToSize(totalSize)}</span>\n\t\t\t\t</div>\n\t\t\t\t<Progress value={message.progress} max={100} />\n\t\t\t</Wrapper>\n\t\t\t<IconButton\n\t\t\t\tvariant=\"blank\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\tmessage.abort();\n\t\t\t\t\t// remove the message from the queue\n\t\t\t\t\tapp.queue.remove(message.id);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<CustomIcon icon=\"mdiClose\" size=\"24px\" />\n\t\t\t</IconButton>\n\t\t</Container>\n\t);\n}\n\nexport default observer(AttachmentUploadProgress);\n"],"names":["Container","styled","Wrapper","Progress","CustomIcon","Icon","AttachmentUploadProgress","message","app","useAppStore","totalSize","p","f","jsxs","jsx","bytesToSize","IconButton","AttachmentUploadProgress$1","observer"],"mappings":"oPAQA,MAAMA,EAAYC,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAanBC,EAAUD,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUjBE,EAAWF,EAAO;AAAA;AAAA;AAAA,EAKlBG,EAAaH,EAAOI,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAY9B,SAASC,EAAyB,CAAE,QAAAC,GAAkB,CACrD,MAAMC,EAAMC,EAAY,EAClBC,EAAYH,EAAQ,MAAO,OAAO,CAACI,EAAGC,IAAMD,EAAIC,EAAE,KAAM,CAAC,EAE/D,cACEZ,EACA,CAAA,SAAA,CAAAa,OAACX,EACA,CAAA,SAAA,CAAAW,EAAA,KAAC,MAAA,CACA,MAAO,CACN,IAAK,MACL,QAAS,MACV,EAEA,SAAA,CAAAC,EAAAA,IAAC,QAAK,SAAS,WAAA,CAAA,EACdA,EAAA,IAAA,OAAA,CACC,SAAQP,EAAA,MAAO,SAAW,EAAIA,EAAQ,MAAO,CAAC,EAAE,KAAO,GAAGA,EAAQ,MAAO,MAAM,SACjF,EACCO,EAAA,IAAA,OAAA,CAAK,UAAU,QAAQ,SAAC,IAAA,QACxB,OAAK,CAAA,UAAU,QAAS,SAAAC,EAAYL,CAAS,CAAE,CAAA,CAAA,CAAA,CACjD,QACCP,EAAS,CAAA,MAAOI,EAAQ,SAAU,IAAK,GAAK,CAAA,CAAA,EAC9C,EACAO,EAAA,IAACE,EAAA,CACA,QAAQ,QACR,QAAS,IAAM,CACdT,EAAQ,MAAM,EAEVC,EAAA,MAAM,OAAOD,EAAQ,EAAE,CAC5B,EAEA,SAACO,EAAA,IAAAV,EAAA,CAAW,KAAK,WAAW,KAAK,MAAO,CAAA,CAAA,CAAA,CACzC,EACD,CAEF,CAEA,MAAea,EAAAC,EAASZ,CAAwB"}