{"version":3,"file":"DhTc2K6CdbjkGR-IxRsn.js","sources":["../../src/components/SidebarAction.tsx"],"sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport Container from \"./Container\";\nimport { GuildSidebarListItem } from \"./GuildItem\";\nimport Icon, { IconProps } from \"./Icon\";\nimport SidebarPill, { PillType } from \"./SidebarPill\";\nimport Floating from \"./floating/Floating\";\nimport FloatingTrigger from \"./floating/FloatingTrigger\";\n\nconst Wrapper = styled(Container)<{\n\tmargin?: boolean;\n\tactive?: boolean;\n\tuseGreenColorScheme?: boolean;\n}>`\n\t${(props) => (props.margin !== false ? \"margin-top: 9px;\" : \"\")}};\n\tpadding: 0;\n\twidth: 48px;\n\theight: 48px;\n\tborder-radius: ${(props) => (props.active ? \"30%\" : \"50%\")};\n\tbackground-color: ${(props) => (props.active ? \"var(--primary)\" : \"var(--background-secondary)\")};\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttransition: border-radius 0.2s ease, background-color 0.2s ease;\n\n\t&:hover {\n\t\tborder-radius: 30%;\n\t\tbackground-color: ${(props) => (props.useGreenColorScheme ? \"var(--success)\" : \"var(--primary)\")};\n\n\t}\n`;\n\ninterface Props {\n\ttooltip?: string;\n\taction?: () => void;\n\timage?: React.DetailedHTMLProps<React.ImgHTMLAttributes<HTMLImageElement>, HTMLImageElement>;\n\ticon?: IconProps;\n\tlabel?: string;\n\tmargin?: boolean;\n\tactive?: boolean;\n\tuseGreenColorScheme?: boolean;\n\tdisablePill?: boolean;\n}\n\nfunction SidebarAction(props: Props) {\n\tif (props.image && props.icon && props.label)\n\t\tthrow new Error(\"SidebarAction can only have one of image, icon, or label\");\n\n\tconst [pillType, setPillType] = React.useState<PillType>(\"none\");\n\tconst [isHovered, setHovered] = React.useState(false);\n\n\tReact.useEffect(() => {\n\t\tif (props.disablePill) return;\n\n\t\tif (props.active) return setPillType(\"active\");\n\t\telse if (isHovered) return setPillType(\"hover\");\n\t\t// TODO: unread\n\t\telse return setPillType(\"none\");\n\t}, [props.active, isHovered]);\n\n\treturn (\n\t\t<GuildSidebarListItem>\n\t\t\t<SidebarPill type={pillType} />\n\t\t\t<Floating\n\t\t\t\tplacement=\"right\"\n\t\t\t\ttype=\"tooltip\"\n\t\t\t\toffset={20}\n\t\t\t\tprops={{\n\t\t\t\t\tcontent: <span>{props.tooltip}</span>,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<FloatingTrigger>\n\t\t\t\t\t<Wrapper\n\t\t\t\t\t\tonClick={props.action}\n\t\t\t\t\t\tonMouseEnter={() => setHovered(true)}\n\t\t\t\t\t\tonMouseLeave={() => setHovered(false)}\n\t\t\t\t\t\tmargin={props.margin}\n\t\t\t\t\t\tactive={props.active}\n\t\t\t\t\t\tuseGreenColorScheme={props.useGreenColorScheme}\n\t\t\t\t\t>\n\t\t\t\t\t\t{props.image && <img {...props.image} loading=\"lazy\" />}\n\t\t\t\t\t\t{props.icon && (\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t{...props.icon}\n\t\t\t\t\t\t\t\tcolor={isHovered && props.useGreenColorScheme ? \"var(--text)\" : props.icon.color}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{props.label && <span>{props.label}</span>}\n\t\t\t\t\t</Wrapper>\n\t\t\t\t</FloatingTrigger>\n\t\t\t</Floating>\n\t\t</GuildSidebarListItem>\n\t);\n}\n\nexport default SidebarAction;\n"],"names":["Wrapper","styled","Container","props","SidebarAction","pillType","setPillType","React","isHovered","setHovered","GuildSidebarListItem","jsx","SidebarPill","Floating","FloatingTrigger","jsxs","Icon"],"mappings":"gVASA,MAAMA,EAAUC,EAAOC,CAAS;AAAA,GAK5BC,GAAWA,EAAM,SAAW,GAAQ,mBAAqB,EAAG;AAAA;AAAA;AAAA;AAAA,kBAI7CA,GAAWA,EAAM,OAAS,MAAQ,KAAM;AAAA,qBACrCA,GAAWA,EAAM,OAAS,iBAAmB,6BAA8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAQ1EA,GAAWA,EAAM,oBAAsB,iBAAmB,gBAAiB;AAAA;AAAA;AAAA,EAiBlG,SAASC,EAAcD,EAAc,CACpC,GAAIA,EAAM,OAASA,EAAM,MAAQA,EAAM,MAChC,MAAA,IAAI,MAAM,0DAA0D,EAE3E,KAAM,CAACE,EAAUC,CAAW,EAAIC,EAAM,SAAmB,MAAM,EACzD,CAACC,EAAWC,CAAU,EAAIF,EAAM,SAAS,EAAK,EAEpD,OAAAA,EAAM,UAAU,IAAM,CACrB,GAAI,CAAAJ,EAAM,YAEV,OAAIA,EAAM,OAAeG,EAAY,QAAQ,EAClBA,EAAlBE,EAA8B,QAEf,MAFsB,CAG5C,EAAA,CAACL,EAAM,OAAQK,CAAS,CAAC,SAG1BE,EACA,CAAA,SAAA,CAACC,EAAAA,IAAAC,EAAA,CAAY,KAAMP,CAAU,CAAA,EAC7BM,EAAA,IAACE,EAAA,CACA,UAAU,QACV,KAAK,UACL,OAAQ,GACR,MAAO,CACN,QAASF,EAAA,IAAC,OAAM,CAAA,SAAAR,EAAM,OAAQ,CAAA,CAC/B,EAEA,eAACW,EACA,CAAA,SAAAC,EAAA,KAACf,EAAA,CACA,QAASG,EAAM,OACf,aAAc,IAAMM,EAAW,EAAI,EACnC,aAAc,IAAMA,EAAW,EAAK,EACpC,OAAQN,EAAM,OACd,OAAQA,EAAM,OACd,oBAAqBA,EAAM,oBAE1B,SAAA,CAAAA,EAAM,OAAUQ,EAAA,IAAA,MAAA,CAAK,GAAGR,EAAM,MAAO,QAAQ,OAAO,EACpDA,EAAM,MACNQ,EAAA,IAACK,EAAA,CACC,GAAGb,EAAM,KACV,MAAOK,GAAaL,EAAM,oBAAsB,cAAgBA,EAAM,KAAK,KAAA,CAC5E,EAEAA,EAAM,OAAUQ,MAAA,OAAA,CAAM,WAAM,KAAM,CAAA,CAAA,CAAA,CAAA,CAErC,CAAA,CAAA,CAAA,CACD,EACD,CAEF"}