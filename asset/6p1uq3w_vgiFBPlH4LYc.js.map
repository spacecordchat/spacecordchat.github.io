{"version":3,"file":"6p1uq3w_vgiFBPlH4LYc.js","sources":["../../src/components/DOBInput.tsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport SelectSearch from \"react-select-search\";\nimport styled from \"styled-components\";\nimport { Input } from \"./AuthComponents\";\nimport \"./DOBInput.css\";\n\n// const MIN_AGE = 13;\nconst MIN_AGE = 3; // we do this instead so we can show an age gate if they are under 13\nconst MAX_AGE = 120;\n\nconst Container = styled.div`\n\tdisplay: flex;\n`;\n\nconst CustomInput = styled(Input)`\n\tbox-sizing: border-box;\n\twidth: 100%;\n`;\n\nconst MONTHS = [\n\t{\n\t\tvalue: \"01\",\n\t\tname: \"January\",\n\t},\n\t{\n\t\tvalue: \"02\",\n\t\tname: \"February\",\n\t},\n\t{\n\t\tvalue: \"03\",\n\t\tname: \"March\",\n\t},\n\t{\n\t\tvalue: \"04\",\n\t\tname: \"April\",\n\t},\n\t{\n\t\tvalue: \"05\",\n\t\tname: \"May\",\n\t},\n\t{\n\t\tvalue: \"06\",\n\t\tname: \"June\",\n\t},\n\t{\n\t\tvalue: \"07\",\n\t\tname: \"July\",\n\t},\n\t{\n\t\tvalue: \"08\",\n\t\tname: \"August\",\n\t},\n\t{\n\t\tvalue: \"09\",\n\t\tname: \"September\",\n\t},\n\t{\n\t\tvalue: \"10\",\n\t\tname: \"October\",\n\t},\n\t{\n\t\tvalue: \"11\",\n\t\tname: \"November\",\n\t},\n\t{\n\t\tvalue: \"12\",\n\t\tname: \"December\",\n\t},\n];\n\ninterface Props {\n\tonChange: (value: string) => void;\n\tonErrorChange: (errors: { month?: string; day?: string; year?: string }) => void;\n\terror: boolean;\n\tdisabled?: boolean;\n}\n\ninterface State {\n\tmonth?: string;\n\tday?: string;\n\tyear?: string;\n\terrors: { month?: string; day?: string; year?: string };\n}\n\nexport class DOBInput extends Component<Props, State> {\n\tstate = {\n\t\tmonth: \"\",\n\t\tday: \"\",\n\t\tyear: \"\",\n\t\terrors: {\n\t\t\tmonth: undefined,\n\t\t\tday: undefined,\n\t\t\tyear: undefined,\n\t\t},\n\t};\n\n\tcomponentDidUpdate(prevProps: Props, prevState: State) {\n\t\tif (prevState !== this.state) {\n\t\t\tthis.props.onErrorChange(this.state.errors);\n\n\t\t\tthis.props.onChange(\n\t\t\t\tthis.constructDate({\n\t\t\t\t\tmonth: this.state.month,\n\t\t\t\t\tday: this.state.day,\n\t\t\t\t\tyear: this.state.year,\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n\n\tonInputChange = (type: string) => (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst value = e.target.value;\n\n\t\t// clear error for field\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\t...this.state,\n\t\t\t\terrors: { ...this.state.errors, [type]: undefined },\n\t\t\t},\n\t\t\t() => {\n\t\t\t\t// ensure only numbers\n\t\t\t\tif (isNaN(Number(value))) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\terrors: {\n\t\t\t\t\t\t\t...this.state.errors,\n\t\t\t\t\t\t\t[type]: \"Invalid Date\",\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (type === \"day\") {\n\t\t\t\t\t// day should be a number between 1-31 and not more than 2 digits\n\t\t\t\t\tif (value !== \"\" && (value.length > 2 || Number(value) > 31 || Number(value) < 1)) {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\tday: value,\n\t\t\t\t\t\t\terrors: {\n\t\t\t\t\t\t\t\t...this.state.errors,\n\t\t\t\t\t\t\t\t[type]: \"Invalid Date\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.setState({ ...this.state, day: value });\n\t\t\t\t}\n\n\t\t\t\tif (type === \"year\") {\n\t\t\t\t\t// year must be between now-min and now-max\n\t\t\t\t\tif (\n\t\t\t\t\t\tvalue.length === 4 &&\n\t\t\t\t\t\t(Number(value) > new Date().getFullYear() - MIN_AGE ||\n\t\t\t\t\t\t\tNumber(value) < new Date().getFullYear() - MAX_AGE)\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t...this.state,\n\t\t\t\t\t\t\tyear: value,\n\t\t\t\t\t\t\terrors: {\n\t\t\t\t\t\t\t\t...this.state.errors,\n\t\t\t\t\t\t\t\t[type]: \"Invalid Date\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.setState({ ...this.state, year: value });\n\t\t\t\t}\n\t\t\t},\n\t\t);\n\t};\n\n\tconstructDate = (values: { month: string; day: string; year: string }) => {\n\t\tconst { month, day, year } = values;\n\t\t// pad day with 0 if needed\n\t\tconst dayPadded = day?.length === 1 ? `0${day}` : day;\n\t\treturn `${year}-${month}-${dayPadded}`;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<SelectSearch\n\t\t\t\t\tplaceholder=\"Month\"\n\t\t\t\t\tsearch\n\t\t\t\t\toptions={MONTHS}\n\t\t\t\t\tonChange={(e) => this.setState({ ...this.state, month: e as string })}\n\t\t\t\t\tvalue={this.state.month}\n\t\t\t\t\tdisabled={this.props.disabled}\n\t\t\t\t\tonBlur={() => {}}\n\t\t\t\t\tonFocus={() => {}}\n\t\t\t\t/>\n\t\t\t\t<CustomInput\n\t\t\t\t\tplaceholder=\"Day\"\n\t\t\t\t\tonChange={this.onInputChange(\"day\")}\n\t\t\t\t\tvalue={this.state.day}\n\t\t\t\t\terror={this.state.errors.day || this.props.error}\n\t\t\t\t\tmaxLength={2}\n\t\t\t\t\tdisabled={this.props.disabled}\n\t\t\t\t/>\n\t\t\t\t<CustomInput\n\t\t\t\t\tplaceholder=\"Year\"\n\t\t\t\t\tonChange={this.onInputChange(\"year\")}\n\t\t\t\t\tvalue={this.state.year}\n\t\t\t\t\terror={this.state.errors.year || this.props.error}\n\t\t\t\t\tmaxLength={4}\n\t\t\t\t\tdisabled={this.props.disabled}\n\t\t\t\t/>\n\t\t\t</Container>\n\t\t);\n\t}\n}\n\nexport default DOBInput;\n"],"names":["MIN_AGE","MAX_AGE","Container","styled","CustomInput","Input","MONTHS","DOBInput","Component","__publicField","type","e","value","values","month","day","year","dayPadded","prevProps","prevState","jsx","SelectSearch"],"mappings":"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"}