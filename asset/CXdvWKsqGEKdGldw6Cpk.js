import{f as u,o as j,j as o}from"./DIBLJojdTQB51I2zM4gm.js";import{C as h}from"./CZvihCBGM_UUNj_koxMl.js";import{u as C}from"./BV-6LX_Gn8Wz_usUCJsP.js";import{Q as c}from"./c4TTR73YEaZ8N3lrXBCS.js";import{A}from"./1wwvmrj2CT3hP3vB4IKQ.js";import b from"./DTx95cZds2pknCIQI54B.js";import{M as v}from"./B1wKGbCXAWMo9qEz2RIA.js";import{M as E}from"./DD7Ygw6RIuwzMWUkuA2P.js";import{M as _,a as y,b as p,c as D,d as I}from"./CmtHS_iLm1jLtk9rwU9I.js";import{M as N}from"./Czy6sh4m-bce9ZD7hVTX.js";import{A as S}from"./D4oQ0NBYrxnlnQvVI0Yv.js";function Q({message:t,header:i}){var a,d;const r=C(),x=u.useContext(h),e=t.guild_id?r.guilds.get(t.guild_id):void 0,m="mention_everyone"in t&&t.mention_everyone,M="mentions"in t&&t.mentions.some(n=>n.id===r.account.id),l=e&&"mention_roles"in t&&t.mention_roles.some(n=>{var s;return(s=e.members.me)==null?void 0:s.roles.some(f=>n===f.id)});return o.jsxs(_,{header:i,mention:m||M||l,onContextMenu:n=>x.onContextMenu(n,{type:"message",message:t}),children:[o.jsx(y,{children:i?o.jsx(A,{user:t.author,size:32},t.author.id):o.jsx(p,{message:t,position:"left"})}),o.jsxs(D,{children:[i&&o.jsxs("span",{className:"message-details",children:[o.jsx(E,{message:t,guild:e}),o.jsx(p,{message:t,position:"top"})]}),o.jsx(I,{sending:"status"in t&&t.status===c.SENDING,failed:"status"in t&&t.status===c.FAILED,children:t.content&&o.jsx(b,{content:t.content})}),"attachments"in t&&t.attachments.map((n,s)=>o.jsx(v,{attachment:n},s)),"embeds"in t&&((a=t.embeds)==null?void 0:a.map((n,s)=>o.jsx(N,{embed:n},s))),"files"in t&&((d=t.files)==null?void 0:d.length)!==0&&o.jsx(S,{message:t})]})]})}const $=u.memo(j(Q));export{$ as M};
//# sourceMappingURL=CXdvWKsqGEKdGldw6Cpk.js.map
