{"version":3,"file":"CENCxmyrz0uFif4dy-D7.js","sources":["../../src/stores/PrivateChannelStore.ts"],"sourcesContent":["import type { APIChannel } from \"@spacebarchat/spacebar-api-types/v9\";\nimport { action, computed, observable, ObservableMap } from \"mobx\";\nimport AppStore from \"./AppStore\";\nimport Channel from \"./objects/Channel\";\n\nexport default class PrivateChannelStore {\n\tprivate readonly app: AppStore;\n\t@observable readonly channels = new ObservableMap<string, Channel>();\n\n\tconstructor(app: AppStore) {\n\t\tthis.app = app;\n\t}\n\n\t@action\n\tadd(channel: APIChannel) {\n\t\tthis.channels.set(channel.id, new Channel(this.app, channel));\n\t}\n\n\t@action\n\tupdate(channel: APIChannel) {\n\t\tconst existing = this.channels.get(channel.id);\n\t\tif (existing) {\n\t\t\texisting.update(channel);\n\t\t} else {\n\t\t\tthis.add(channel);\n\t\t}\n\t}\n\n\t@action\n\taddAll(channels: APIChannel[]) {\n\t\tchannels.forEach((channel) => this.add(channel));\n\t}\n\n\tget(id: string) {\n\t\treturn this.channels.get(id);\n\t}\n\n\t@computed\n\tget all() {\n\t\treturn Array.from(this.channels.values());\n\t}\n\n\t@action\n\tremove(id: string) {\n\t\tthis.channels.delete(id);\n\t}\n\n\t@computed\n\tget count() {\n\t\treturn this.channels.size;\n\t}\n}\n"],"names":["PrivateChannelStore","app","__publicField","ObservableMap","channel","Channel","existing","channels","id","__decorateClass","observable","action","computed"],"mappings":"ydAKA,MAAqBA,CAAoB,CAIxC,YAAYC,EAAe,CAHVC,EAAA,YACIA,EAAA,gBAAW,IAAIC,GAGnC,KAAK,IAAMF,CAAA,CAIZ,IAAIG,EAAqB,CACnB,KAAA,SAAS,IAAIA,EAAQ,GAAI,IAAIC,EAAQ,KAAK,IAAKD,CAAO,CAAC,CAAA,CAI7D,OAAOA,EAAqB,CAC3B,MAAME,EAAW,KAAK,SAAS,IAAIF,EAAQ,EAAE,EACzCE,EACHA,EAAS,OAAOF,CAAO,EAEvB,KAAK,IAAIA,CAAO,CACjB,CAID,OAAOG,EAAwB,CAC9BA,EAAS,QAASH,GAAY,KAAK,IAAIA,CAAO,CAAC,CAAA,CAGhD,IAAII,EAAY,CACR,OAAA,KAAK,SAAS,IAAIA,CAAE,CAAA,CAI5B,IAAI,KAAM,CACT,OAAO,MAAM,KAAK,KAAK,SAAS,QAAQ,CAAA,CAIzC,OAAOA,EAAY,CACb,KAAA,SAAS,OAAOA,CAAE,CAAA,CAIxB,IAAI,OAAQ,CACX,OAAO,KAAK,SAAS,IAAA,CAEvB,CA5CsBC,EAAA,CAApBC,CAAA,EAFmBV,EAEC,UAAA,WAAA,CAAA,EAOrBS,EAAA,CADCE,CAAA,EARmBX,EASpB,UAAA,MAAA,CAAA,EAKAS,EAAA,CADCE,CAAA,EAbmBX,EAcpB,UAAA,SAAA,CAAA,EAUAS,EAAA,CADCE,CAAA,EAvBmBX,EAwBpB,UAAA,SAAA,CAAA,EASIS,EAAA,CADHG,CAAA,EAhCmBZ,EAiChB,UAAA,MAAA,CAAA,EAKJS,EAAA,CADCE,CAAA,EArCmBX,EAsCpB,UAAA,SAAA,CAAA,EAKIS,EAAA,CADHG,CAAA,EA1CmBZ,EA2ChB,UAAA,QAAA,CAAA"}