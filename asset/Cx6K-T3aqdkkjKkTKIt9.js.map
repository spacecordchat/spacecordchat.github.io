{"version":3,"file":"Cx6K-T3aqdkkjKkTKIt9.js","sources":["../../src/components/modals/SettingsModal.tsx"],"sourcesContent":["import { observer } from \"mobx-react-lite\";\nimport { useState } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { ModalProps, modalController } from \"../../controllers/modals\";\nimport { useAppStore } from \"../../hooks/useAppStore\";\nimport { isTauri } from \"../../utils/Utils\";\nimport { APP_VERSION, GIT_BRANCH, GIT_REVISION, REPO_URL } from \"../../utils/revison\";\nimport Icon from \"../Icon\";\nimport Link from \"../Link\";\nimport { Modal } from \"./ModalComponents\";\nimport AccountSettingsPage from \"./SettingsPages/AccountSettingsPage\";\nimport DeveloperSettingsPage from \"./SettingsPages/DeveloperSettingsPage\";\nimport ExperimentsPage from \"./SettingsPages/ExperimentsPage\";\n\nconst SidebarView = styled.div`\n\tdisplay: flex;\n\tflex: 1;\n\toverflow: hidden;\n`;\n\nconst Sidebar = styled.div`\n\tdisplay: flex;\n\tflex: 1 0 220px;\n\tjustify-content: flex-end;\n`;\n\nconst SidebarInner = styled.div`\n\toverflow: hidden scroll;\n\tdisplay: flex;\n\tflex: 1 0 auto;\n\tflex-direction: row;\n\tjustify-content: flex-end;\n\talign-items: flex-start;\n\tbackground: var(--background-secondary);\n`;\n\nconst SidebarNav = styled.nav`\n\twidth: 220px;\n\tpadding: 60px 6px 20px;\n\tbox-sizing: border-box;\n`;\n\nconst SidebarNavWrapper = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nconst Content = styled.div`\n\tdisplay: flex;\n\tflex: 1 1 800px;\n\talign-items: flex-start;\n\tbackground: var(--background-primary);\n`;\n\nconst ContentInner = styled.div`\n\toverflow: hidden scroll;\n\tjustify-content: flex-start;\n\tposition: static;\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: flex-start;\n\tbackground: var(--background-primary);\n\tbox-sizing: border-box;\n`;\n\nconst ContentColumn = styled.div`\n\tpadding: 60px 40px 80px;\n\tflex: 1 1 auto;\n\tmax-width: 740px;\n\tmin-width: 460px;\n\tmin-height: 100%;\n\tbox-sizing: border-box;\n`;\n\nconst Header = styled.div`\n\tpadding: 6px 10px;\n\tcolor: var(--text-secondary);\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\tflex-shrink: 0;\n\tfont-size: 14px;\n\tfont-weight: var(--font-weight-bold);\n\tletter-spacing: 0.5px;\n`;\n\nconst Item = styled.div<{ selected?: boolean; textColor?: string }>`\n\tpadding: 5px 10px;\n\tmargin-bottom: 5px;\n\tborder-radius: 4px;\n\tfont-size: 16px;\n\tcursor: pointer;\n\tfont-weight: var(--font-weight-regular);\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\tflex-shrink: 0;\n\tcolor: ${(props) => props.textColor ?? \"var(--text-secondary);\"};\n\n\t&:hover {\n\t\tbackground-color: hsl(var(--background-primary-hsl) / 0.6);\n\t\tcursor: pointer;\n\t}\n\n\t${(props) =>\n\t\tprops.selected &&\n\t\tcss`\n\t\t\tbackground-color: var(--background-primary);\n\t\t\tcolor: var(--text);\n\t\t`}\n`;\n\nconst Divider = styled.div`\n\tmargin: 8px 10px;\n\theight: 1px;\n\tbackground-color: var(--text-disabled);\n`;\n\nconst VersionInfo = styled.div`\n\tpadding: 8px 10px;\n\tcolor: var(--text-secondary);\n\tfont-size: 12px;\n\tfont-weight: var(--font-weight-regular);\n`;\n\nconst CloseContainer = styled.div`\n\tmargin-right: 20px;\n\tflex: 0 0 36px;\n\twidth: 60px;\n\tpadding-top: 60px;\n\tposition: relative;\n`;\n\nconst CloseContainerInner = styled.div`\n\tposition: fixed;\n`;\n\nconst CloseContainerWrapper = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n`;\n\nconst CloseButtonWrapper = styled.div`\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex: 0 0 40px;\n\tborder: solid 1px;\n\tborder-radius: 50%;\n\twidth: 40px;\n\theight: 40px;\n\tcursor: pointer;\n\tcolor: var(--text-secondary);\n`;\n\nexport const SettingsModal = observer(({ ...props }: ModalProps<\"settings\">) => {\n\tconst app = useAppStore();\n\tconst [index, setIndex] = useState(0);\n\n\tconst onClick = (e: React.MouseEvent<HTMLDivElement>) => {\n\t\tconst value = e.currentTarget.getAttribute(\"data-value\");\n\t\tif (value) {\n\t\t\tsetIndex(parseInt(value));\n\t\t}\n\t};\n\n\treturn (\n\t\t<Modal {...props} fullScreen withoutCloseButton withEmptyActionBar padding=\"0\">\n\t\t\t<SidebarView>\n\t\t\t\t<Sidebar>\n\t\t\t\t\t<SidebarInner>\n\t\t\t\t\t\t<SidebarNav>\n\t\t\t\t\t\t\t<SidebarNavWrapper>\n\t\t\t\t\t\t\t\t<Header>User Settings</Header>\n\t\t\t\t\t\t\t\t<Item data-value=\"0\" onClick={onClick}>\n\t\t\t\t\t\t\t\t\tAccount\n\t\t\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t<Item data-value=\"1\" onClick={onClick}>\n\t\t\t\t\t\t\t\t\tDeveloper Options\n\t\t\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t\t\t<Item data-value=\"2\" onClick={onClick}>\n\t\t\t\t\t\t\t\t\tExperiments\n\t\t\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t<Item onClick={app.logout}>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\t\t\t\tcolor: \"var(--error)\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tLog Out\n\t\t\t\t\t\t\t\t\t\t<Icon icon=\"mdiLogout\" size=\"16px\" color=\"var(--error)\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Item>\n\t\t\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t\t\t<VersionInfo>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t{GIT_BRANCH} {APP_VERSION} (\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\thref={`${REPO_URL}/commit/${GIT_REVISION}`}\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{GIT_REVISION.substring(0, 7)}\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t{isTauri && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{/* <span>\n\t\t\t\t\t\t\t\t\t\t\t\t{window.globals.appVersion\n\t\t\t\t\t\t\t\t\t\t\t\t\t? `${window.globals.appVersion} (${(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`${REPO_URL}/commit/${GIT_REVISION}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{GIT_REVISION.substring(0, 7)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t  )})`\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Fetching version information...\"}\n\t\t\t\t\t\t\t\t\t\t\t</span> */}\n\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\tTauri {window.globals.tauriVersion ?? \"Fetching version information...\"}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{`${window.globals.platform.name} ${window.globals.platform.arch} (${window.globals.platform.version})`}</span>\n\t\t\t\t\t\t\t\t\t\t\t<span>{window.globals.platform.locale ?? \"Unknown\"}</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</VersionInfo>\n\t\t\t\t\t\t\t</SidebarNavWrapper>\n\t\t\t\t\t\t</SidebarNav>\n\t\t\t\t\t</SidebarInner>\n\t\t\t\t</Sidebar>\n\t\t\t\t<Content>\n\t\t\t\t\t<ContentInner>\n\t\t\t\t\t\t<ContentColumn>\n\t\t\t\t\t\t\t{index === 0 && <AccountSettingsPage />}\n\t\t\t\t\t\t\t{index === 1 && <DeveloperSettingsPage />}\n\t\t\t\t\t\t\t{index === 2 && <ExperimentsPage />}\n\t\t\t\t\t\t</ContentColumn>\n\t\t\t\t\t\t<CloseContainer>\n\t\t\t\t\t\t\t<CloseContainerInner></CloseContainerInner>\n\t\t\t\t\t\t\t<CloseContainerWrapper>\n\t\t\t\t\t\t\t\t<CloseButtonWrapper onClick={() => modalController.close()}>\n\t\t\t\t\t\t\t\t\t<Icon icon=\"mdiClose\" size=\"18px\" />\n\t\t\t\t\t\t\t\t</CloseButtonWrapper>\n\t\t\t\t\t\t\t</CloseContainerWrapper>\n\t\t\t\t\t\t</CloseContainer>\n\t\t\t\t\t</ContentInner>\n\t\t\t\t</Content>\n\t\t\t</SidebarView>\n\t\t</Modal>\n\t);\n});\n"],"names":["SidebarView","styled","Sidebar","SidebarInner","SidebarNav","SidebarNavWrapper","Content","ContentInner","ContentColumn","Header","Item","props","css","Divider","VersionInfo","CloseContainer","CloseContainerInner","CloseContainerWrapper","CloseButtonWrapper","SettingsModal","observer","app","useAppStore","index","setIndex","useState","onClick","e","value","jsx","Modal","jsxs","Icon","GIT_BRANCH","APP_VERSION","Link","REPO_URL","GIT_REVISION","isTauri","Fragment","AccountSettingsPage","DeveloperSettingsPage","ExperimentsPage","modalController"],"mappings":"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"}