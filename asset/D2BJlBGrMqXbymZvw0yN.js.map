{"version":3,"file":"D2BJlBGrMqXbymZvw0yN.js","sources":["../../src/pages/RegistrationPage.tsx"],"sourcesContent":["import HCaptchaLib from \"@hcaptcha/react-hcaptcha\";\nimport { Routes } from \"@spacebarchat/spacebar-api-types/v9\";\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport SpacebarLogoBlue from \"../assets/images/logo/Logo-Blue.svg?react\";\nimport {\n\tAuthContainer,\n\tAuthSwitchPageContainer,\n\tAuthSwitchPageLabel,\n\tAuthSwitchPageLink,\n\tFormContainer,\n\tHeader,\n\tInput,\n\tInputContainer,\n\tInputErrorText,\n\tInputLabel,\n\tInputWrapper,\n\tLabelWrapper,\n\tSubHeader,\n\tSubmitButton,\n\tWrapper,\n} from \"../components/AuthComponents\";\nimport DOBInput from \"../components/DOBInput\";\nimport { TextDivider } from \"../components/Divider\";\nimport HCaptcha from \"../components/HCaptcha\";\nimport { useAppStore } from \"../hooks/useAppStore\";\nimport useLogger from \"../hooks/useLogger\";\nimport { AUTH_NO_BRANDING } from \"../stores/AppStore\";\nimport { IAPILoginResponseSuccess, IAPIRegisterRequest, IAPIRegisterResponseError } from \"../utils/interfaces/api\";\nimport { messageFromFieldError } from \"../utils/messageFromFieldError\";\n\ntype FormValues = {\n\temail: string;\n\tusername: string;\n\tpassword: string;\n\tdate_of_birth: string;\n\tcaptcha_key?: string;\n};\n\nfunction RegistrationPage() {\n\tconst app = useAppStore();\n\tconst logger = useLogger(\"RegistrationPage\");\n\tconst navigate = useNavigate();\n\tconst [loading, setLoading] = React.useState(false);\n\tconst [captchaSiteKey, setCaptchaSiteKey] = React.useState<string>();\n\n\tconst captchaRef = React.useRef<HCaptchaLib>(null);\n\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tsetValue,\n\t\tformState: { errors },\n\t\tsetError,\n\t\tclearErrors,\n\t} = useForm<FormValues>();\n\n\tconst _ = register(\"date_of_birth\", {\n\t\trequired: true,\n\t\tpattern: /^\\d{4}-\\d{2}-\\d{2}$/,\n\t});\n\n\tconst resetCaptcha = () => {\n\t\tcaptchaRef.current?.resetCaptcha();\n\t\tsetValue(\"captcha_key\", undefined);\n\t};\n\n\tconst onSubmit = handleSubmit((data) => {\n\t\tif (errors.date_of_birth) return;\n\n\t\tsetLoading(true);\n\t\tsetCaptchaSiteKey(undefined);\n\t\tsetValue(\"captcha_key\", undefined);\n\n\t\tapp.rest\n\t\t\t.post<IAPIRegisterRequest, IAPILoginResponseSuccess>(Routes.register(), {\n\t\t\t\t...data,\n\t\t\t\tconsent: true,\n\t\t\t})\n\t\t\t.then((r) => {\n\t\t\t\tif (\"token\" in r) {\n\t\t\t\t\t// success\n\t\t\t\t\tapp.setToken(r.token, true);\n\t\t\t\t\treturn;\n\t\t\t\t} else {\n\t\t\t\t\t// unknown error\n\t\t\t\t\tlogger.error(r);\n\t\t\t\t\tsetError(\"email\", {\n\t\t\t\t\t\ttype: \"manual\",\n\t\t\t\t\t\tmessage: \"Unknown Error\",\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((r: IAPIRegisterResponseError) => {\n\t\t\t\tif (\"captcha_key\" in r) {\n\t\t\t\t\t// catcha required\n\t\t\t\t\tif (r.captcha_key[0] !== \"captcha-required\") {\n\t\t\t\t\t\t// some kind of captcha error\n\t\t\t\t\t\tsetError(\"email\", {\n\t\t\t\t\t\t\ttype: \"manual\",\n\t\t\t\t\t\t\tmessage: `Captcha Error: ${r.captcha_key[0]}`,\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (r.captcha_service !== \"hcaptcha\") {\n\t\t\t\t\t\t// recaptcha or something else\n\t\t\t\t\t\tsetError(\"email\", {\n\t\t\t\t\t\t\ttype: \"manual\",\n\t\t\t\t\t\t\tmessage: `Unsupported captcha service: ${r.captcha_service}`,\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// hcaptcha\n\t\t\t\t\t\tsetCaptchaSiteKey(r.captcha_sitekey);\n\t\t\t\t\t\tcaptchaRef.current?.execute();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tresetCaptcha();\n\t\t\t\t} else if (\"message\" in r) {\n\t\t\t\t\t// error\n\t\t\t\t\tif (r.errors) {\n\t\t\t\t\t\tconst t = messageFromFieldError(r.errors);\n\t\t\t\t\t\tif (t) {\n\t\t\t\t\t\t\tsetError(t.field as keyof FormValues, {\n\t\t\t\t\t\t\t\ttype: \"manual\",\n\t\t\t\t\t\t\t\tmessage: t.error,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetError(\"email\", {\n\t\t\t\t\t\t\t\ttype: \"manual\",\n\t\t\t\t\t\t\t\tmessage: r.message,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetError(\"email\", {\n\t\t\t\t\t\t\ttype: \"manual\",\n\t\t\t\t\t\t\tmessage: r.message,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tresetCaptcha();\n\t\t\t\t} else {\n\t\t\t\t\t// unknown error\n\t\t\t\t\tlogger.error(r);\n\t\t\t\t\tsetError(\"email\", {\n\t\t\t\t\t\ttype: \"manual\",\n\t\t\t\t\t\tmessage: \"Unknown Error\",\n\t\t\t\t\t});\n\t\t\t\t\tresetCaptcha();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.finally(() => setLoading(false));\n\t});\n\n\tconst onCaptchaVerify = (token: string) => {\n\t\tsetValue(\"captcha_key\", token);\n\t\tonSubmit();\n\t};\n\n\tif (captchaSiteKey) {\n\t\treturn <HCaptcha captchaRef={captchaRef} sitekey={captchaSiteKey} onVerify={onCaptchaVerify} />;\n\t}\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<AuthContainer>\n\t\t\t\t{AUTH_NO_BRANDING ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Header>Create an account</Header>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<SpacebarLogoBlue height={48} width=\"auto\" />\n\t\t\t\t\t\t<SubHeader noBranding>Create an account</SubHeader>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\n\t\t\t\t<FormContainer onSubmit={onSubmit}>\n\t\t\t\t\t<InputContainer marginBottom={true} style={{ marginTop: 0 }}>\n\t\t\t\t\t\t<LabelWrapper error={!!errors.email}>\n\t\t\t\t\t\t\t<InputLabel>Email</InputLabel>\n\t\t\t\t\t\t\t{errors.email && (\n\t\t\t\t\t\t\t\t<InputErrorText>\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<TextDivider>-</TextDivider>\n\t\t\t\t\t\t\t\t\t\t{errors.email.message}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t</InputErrorText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</LabelWrapper>\n\t\t\t\t\t\t<InputWrapper>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t{...register(\"email\", { required: true })}\n\t\t\t\t\t\t\t\terror={!!errors.email}\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</InputWrapper>\n\t\t\t\t\t</InputContainer>\n\n\t\t\t\t\t<InputContainer marginBottom={true} style={{ marginTop: 0 }}>\n\t\t\t\t\t\t<LabelWrapper error={!!errors.username}>\n\t\t\t\t\t\t\t<InputLabel>Username</InputLabel>\n\t\t\t\t\t\t\t{errors.username && (\n\t\t\t\t\t\t\t\t<InputErrorText>\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<TextDivider>-</TextDivider>\n\t\t\t\t\t\t\t\t\t\t{errors.username.message}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t</InputErrorText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</LabelWrapper>\n\t\t\t\t\t\t<InputWrapper>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t{...register(\"username\", { required: true })}\n\t\t\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\t\t\terror={!!errors.username}\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</InputWrapper>\n\t\t\t\t\t</InputContainer>\n\n\t\t\t\t\t<InputContainer marginBottom>\n\t\t\t\t\t\t<LabelWrapper error={!!errors.password}>\n\t\t\t\t\t\t\t<InputLabel>Password</InputLabel>\n\t\t\t\t\t\t\t{errors.password && (\n\t\t\t\t\t\t\t\t<InputErrorText>\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<TextDivider>-</TextDivider>\n\t\t\t\t\t\t\t\t\t\t{errors.password.message}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t</InputErrorText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</LabelWrapper>\n\t\t\t\t\t\t<InputWrapper>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\t\t{...register(\"password\", { required: true })}\n\t\t\t\t\t\t\t\terror={!!errors.password}\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</InputWrapper>\n\t\t\t\t\t</InputContainer>\n\n\t\t\t\t\t<InputContainer marginBottom={true}>\n\t\t\t\t\t\t<LabelWrapper error={!!errors.date_of_birth}>\n\t\t\t\t\t\t\t<InputLabel>Date of Birth</InputLabel>\n\t\t\t\t\t\t\t{errors.date_of_birth && (\n\t\t\t\t\t\t\t\t<InputErrorText>\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<TextDivider>-</TextDivider>\n\t\t\t\t\t\t\t\t\t\t{errors.date_of_birth.message}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t</InputErrorText>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</LabelWrapper>\n\n\t\t\t\t\t\t<InputWrapper>\n\t\t\t\t\t\t\t<DOBInput\n\t\t\t\t\t\t\t\tonChange={(value) => setValue(\"date_of_birth\", value)}\n\t\t\t\t\t\t\t\tonErrorChange={(errors) => {\n\t\t\t\t\t\t\t\t\tconst hasError = Object.values(errors).some((error) => error);\n\t\t\t\t\t\t\t\t\tif (hasError) {\n\t\t\t\t\t\t\t\t\t\t// set to first error\n\t\t\t\t\t\t\t\t\t\tsetError(\"date_of_birth\", {\n\t\t\t\t\t\t\t\t\t\t\ttype: \"manual\",\n\t\t\t\t\t\t\t\t\t\t\tmessage: Object.values(errors).filter((x) => x)[0],\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t} else clearErrors(\"date_of_birth\");\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\terror={!!errors.date_of_birth}\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</InputWrapper>\n\t\t\t\t\t</InputContainer>\n\n\t\t\t\t\t<SubmitButton palette=\"primary\" type=\"submit\" disabled={loading}>\n\t\t\t\t\t\tCreate Account\n\t\t\t\t\t</SubmitButton>\n\n\t\t\t\t\t<AuthSwitchPageContainer>\n\t\t\t\t\t\t<AuthSwitchPageLabel>Already have an account?&nbsp;</AuthSwitchPageLabel>\n\t\t\t\t\t\t<AuthSwitchPageLink\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tnavigate(\"/login\");\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t</AuthSwitchPageLink>\n\t\t\t\t\t</AuthSwitchPageContainer>\n\t\t\t\t</FormContainer>\n\t\t\t</AuthContainer>\n\t\t</Wrapper>\n\t);\n}\n\nexport default RegistrationPage;\n"],"names":["RegistrationPage","app","useAppStore","logger","useLogger","navigate","useNavigate","loading","setLoading","React","captchaSiteKey","setCaptchaSiteKey","captchaRef","register","handleSubmit","setValue","errors","setError","clearErrors","useForm","resetCaptcha","_a","onSubmit","data","Routes","r","t","messageFromFieldError","onCaptchaVerify","token","HCaptcha","jsx","Wrapper","jsxs","AuthContainer","Fragment","SpacebarLogoBlue","SubHeader","FormContainer","InputContainer","LabelWrapper","InputLabel","InputErrorText","TextDivider","InputWrapper","Input","DOBInput","value","error","x","SubmitButton","AuthSwitchPageContainer","AuthSwitchPageLabel","AuthSwitchPageLink"],"mappings":"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"}