{"version":3,"file":"B6LBLfqUZUPmGzvaBkX6.js","sources":["../../src/components/messaging/ChatHeader.tsx"],"sourcesContent":["import * as Icons from \"@mdi/js\";\nimport { observer } from \"mobx-react-lite\";\nimport styled from \"styled-components\";\nimport { useAppStore } from \"../../hooks/useAppStore\";\nimport useLogger from \"../../hooks/useLogger\";\nimport Channel from \"../../stores/objects/Channel\";\nimport Icon from \"../Icon\";\nimport { SectionHeader } from \"../SectionHeader\";\nimport Floating from \"../floating/Floating\";\nimport FloatingTrigger from \"../floating/FloatingTrigger\";\n\nconst IconButton = styled.button`\n\tmargin: 0;\n\tpadding: 0;\n\tbackground-color: inherit;\n\tborder: none;\n`;\n\nconst CustomIcon = styled(Icon)<{ $active?: boolean }>`\n\tcolor: ${(props) => (props.$active ? \"var(--text)\" : \"var(--text-secondary)\")};\n\n\t&:hover {\n\t\tcolor: ${(props) => (props.$active ? \"var(--text-secondary)\" : \"var(--text)\")};\n\t\tcursor: pointer;\n\t}\n`;\n\nconst Container = styled(SectionHeader)`\n\tbackground-color: var(--background-primary-alt);\n`;\n\nconst Wrapper = styled.div`\n\tdisplay: flex;\n\tflex: 1 1 auto;\n\talign-items: center;\n`;\n\nconst ChannelNameText = styled.div`\n\tfont-size: 16px;\n\tfont-weight: var(--font-weight-medium);\n`;\n\nconst Divider = styled.div`\n\twidth: 1px;\n\theight: 16px;\n\tmargin: 0 8px;\n\tbackground-color: var(--text-secondary);\n`;\n\nconst TopicWrapper = styled.div`\n\tdisplay: flex;\n\tflex: 1 1 auto;\n`;\n\nconst ChannelTopicText = styled.div`\n\tfont-size: 14px;\n\tfont-weight: var(--font-weight-regular);\n\tcolor: var(--text-secondary);\n`;\n\nconst ActionItemsWrapper = styled.div`\n\tdisplay: flex;\n\tflex-direction: row-reverse;\n\t// margin-right: 15%;\n\n\t// remove the temporary padding that moves it over the chat area on smaller screens where the member list is hidden\n\t@media (max-width: 1050px) {\n\t\tmargin-right: auto;\n\t}\n`;\n\nconst DummySearch = styled.div`\n\tdisplay: flex;\n\tflex: 0 0 208px;\n\n\talign-items: center;\n\tborder-radius: 4px;\n\tbackground-color: var(--background-tertiary);\n\tmargin-left: 8px; // to match the right padding from the main container\n\tpadding: 0 8px;\n\tuser-select: none;\n\t// cursor: text;\n\tcursor: not-allowed;\n`;\n\nconst IconWrapper = styled.div`\n\theight: 24px;\n\tmargin-left: 8px;\n\tflex: 0 0 auto;\n`;\n\ninterface Props {\n\tchannel?: Channel;\n}\n\nfunction ChannelTopic({ channel }: Props) {\n\treturn (\n\t\t<TopicWrapper>\n\t\t\t{channel?.topic && (\n\t\t\t\t<>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t<ChannelTopicText>{channel.topic}</ChannelTopicText>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</TopicWrapper>\n\t);\n}\n\ninterface ActionItemProps {\n\ticon: keyof typeof Icons;\n\tactive?: boolean;\n\tariaLabel?: string;\n\ttooltip: string;\n\tonClick?: () => void;\n\tdisabled?: boolean;\n\tcolor?: string;\n}\n\nfunction ActionItem({ icon, active, ariaLabel, tooltip, disabled, color, onClick }: ActionItemProps) {\n\tconst logger = useLogger(\"ChatHeader.tsx:ActionItem\");\n\n\treturn (\n\t\t<Floating\n\t\t\tplacement=\"bottom\"\n\t\t\ttype=\"tooltip\"\n\t\t\tprops={{\n\t\t\t\tcontent: <span>{tooltip}</span>,\n\t\t\t}}\n\t\t>\n\t\t\t<FloatingTrigger>\n\t\t\t\t<IconWrapper>\n\t\t\t\t\t<IconButton onClick={onClick}>\n\t\t\t\t\t\t<CustomIcon\n\t\t\t\t\t\t\t$active={!disabled && active}\n\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\tsize=\"24px\"\n\t\t\t\t\t\t\taria-label={ariaLabel}\n\t\t\t\t\t\t\tcolor={color}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</IconButton>\n\t\t\t\t</IconWrapper>\n\t\t\t</FloatingTrigger>\n\t\t</Floating>\n\t);\n}\n\n/**\n * Top header for channel messages section\n */\nfunction ChatHeader({ channel }: Props) {\n\tconst { memberListVisible, toggleMemberList, updaterStore } = useAppStore();\n\n\treturn (\n\t\t<Container>\n\t\t\t<Wrapper>\n\t\t\t\t{/* // TODO: render a custom bar for the home page */}\n\t\t\t\t<ChannelNameText>#{channel?.name ?? \"ChannelName\"}</ChannelNameText>\n\t\t\t\t<ChannelTopic channel={channel} />\n\t\t\t\t{/* Action Items */}\n\t\t\t\t<ActionItemsWrapper>\n\t\t\t\t\t{updaterStore?.checkingForUpdates && (\n\t\t\t\t\t\t<ActionItem\n\t\t\t\t\t\t\ticon=\"mdiCloudSync\"\n\t\t\t\t\t\t\ttooltip=\"Checking for Updates\"\n\t\t\t\t\t\t\tariaLabel=\"Checking for Updates\"\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{updaterStore?.updateAvailable && (\n\t\t\t\t\t\t<ActionItem icon=\"mdiUpdate\" tooltip=\"Update Available\" ariaLabel=\"Upate Available\" disabled />\n\t\t\t\t\t)}\n\t\t\t\t\t{updaterStore?.updateDownloading && (\n\t\t\t\t\t\t<ActionItem\n\t\t\t\t\t\t\ticon=\"mdiCloudDownload\"\n\t\t\t\t\t\t\ttooltip=\"Downloading Update\"\n\t\t\t\t\t\t\tariaLabel=\"Downloading Update\"\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{updaterStore?.updateDownloaded && (\n\t\t\t\t\t\t<ActionItem\n\t\t\t\t\t\t\ticon=\"mdiDownload\"\n\t\t\t\t\t\t\ttooltip=\"Update Ready!\"\n\t\t\t\t\t\t\tariaLabel=\"Update Ready!\"\n\t\t\t\t\t\t\tcolor=\"var(--success)\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tupdaterStore.quitAndInstall();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{/* <ActionItem icon=\"mdiPound\" ariaLabel=\"Threads\" /> */}\n\t\t\t\t\t<DummySearch>\n\t\t\t\t\t\t<span>Search</span>\n\t\t\t\t\t</DummySearch>\n\t\t\t\t\t<ActionItem icon=\"mdiInbox\" tooltip=\"Inbox\" ariaLabel=\"Inbox\" />\n\t\t\t\t\t<ActionItem\n\t\t\t\t\t\ticon=\"mdiAccountMultiple\"\n\t\t\t\t\t\ttooltip=\"Toggle Member List\"\n\t\t\t\t\t\tariaLabel=\"Toggle Member List\"\n\t\t\t\t\t\tactive={memberListVisible}\n\t\t\t\t\t\tonClick={toggleMemberList}\n\t\t\t\t\t/>\n\t\t\t\t\t<ActionItem icon=\"mdiPin\" tooltip=\"Pinned Messages\" ariaLabel=\"Pinned Messages\" />\n\t\t\t\t\t<ActionItem icon=\"mdiBellBadge\" tooltip=\"Notification Settings\" ariaLabel=\"Notification Settings\" />\n\t\t\t\t</ActionItemsWrapper>\n\t\t\t</Wrapper>\n\t\t</Container>\n\t);\n}\n\nexport default observer(ChatHeader);\n"],"names":["IconButton","styled","CustomIcon","Icon","props","Container","SectionHeader","Wrapper","ChannelNameText","Divider","TopicWrapper","ChannelTopicText","ActionItemsWrapper","DummySearch","IconWrapper","ChannelTopic","channel","jsx","jsxs","Fragment","ActionItem","icon","active","ariaLabel","tooltip","disabled","color","onClick","Floating","FloatingTrigger","ChatHeader","memberListVisible","toggleMemberList","updaterStore","useAppStore","ChatHeader$1","observer"],"mappings":"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"}