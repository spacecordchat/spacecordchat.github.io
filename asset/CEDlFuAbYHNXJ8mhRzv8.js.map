{"version":3,"file":"CEDlFuAbYHNXJ8mhRzv8.js","sources":["../../src/components/contextMenus/MessageContextMenu.tsx"],"sourcesContent":["import { modalController } from \"../../controllers/modals\";\nimport { useAppStore } from \"../../hooks/useAppStore\";\nimport Message from \"../../stores/objects/Message\";\nimport { ContextMenu, ContextMenuButton, ContextMenuDivider } from \"./ContextMenu\";\n\ninterface MenuProps {\n\tmessage: Message;\n}\n\nfunction MessageContextMenu({ message }: MenuProps) {\n\tconst app = useAppStore();\n\n\tfunction copyRaw() {\n\t\tnavigator.clipboard.writeText(message.content);\n\t}\n\n\tasync function deleteMessage(e: MouseEvent) {\n\t\tif (e.shiftKey) {\n\t\t\tawait message.delete();\n\t\t} else {\n\t\t\tmodalController.push({\n\t\t\t\ttype: \"delete_message\",\n\t\t\t\ttarget: message as Message,\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction copyId() {\n\t\tnavigator.clipboard.writeText(message.id);\n\t}\n\n\treturn (\n\t\t<ContextMenu>\n\t\t\t<ContextMenuButton icon=\"mdiReply\" disabled>\n\t\t\t\tReply\n\t\t\t</ContextMenuButton>\n\t\t\t<ContextMenuButton icon=\"mdiContentCopy\" onClick={copyRaw}>\n\t\t\t\tCopy Raw Text\n\t\t\t</ContextMenuButton>\n\t\t\t<ContextMenuDivider />\n\t\t\t{(message.channel.hasPermission(\"MANAGE_MESSAGES\") || message.author.id === app.account?.id) &&\n\t\t\t\tmessage instanceof Message && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<ContextMenuButton icon=\"mdiDelete\" destructive onClick={deleteMessage}>\n\t\t\t\t\t\t\tDelete Message\n\t\t\t\t\t\t</ContextMenuButton>\n\t\t\t\t\t\t<ContextMenuDivider />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t<ContextMenuButton\n\t\t\t\ticon=\"mdiIdentifier\"\n\t\t\t\tonClick={copyId}\n\t\t\t\ticonProps={{\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\tfilter: \"invert(100%)\",\n\t\t\t\t\t\tbackground: \"black\",\n\t\t\t\t\t\tborderRadius: \"4px\",\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\tCopy Message ID\n\t\t\t</ContextMenuButton>\n\t\t</ContextMenu>\n\t);\n}\n\nexport default MessageContextMenu;\n"],"names":["MessageContextMenu","message","app","useAppStore","copyRaw","deleteMessage","e","modalController","copyId","ContextMenu","jsx","ContextMenuButton","ContextMenuDivider","_a","Message","jsxs","Fragment"],"mappings":"sRASA,SAASA,EAAmB,CAAE,QAAAC,GAAsB,OACnD,MAAMC,EAAMC,EAAY,EAExB,SAASC,GAAU,CACR,UAAA,UAAU,UAAUH,EAAQ,OAAO,CAAA,CAG9C,eAAeI,EAAcC,EAAe,CACvCA,EAAE,SACL,MAAML,EAAQ,OAAO,EAErBM,EAAgB,KAAK,CACpB,KAAM,iBACN,OAAQN,CAAA,CACR,CACF,CAGD,SAASO,GAAS,CACP,UAAA,UAAU,UAAUP,EAAQ,EAAE,CAAA,CAGzC,cACEQ,EACA,CAAA,SAAA,CAAAC,MAACC,EAAkB,CAAA,KAAK,WAAW,SAAQ,GAAC,SAE5C,QAAA,QACCA,EAAkB,CAAA,KAAK,iBAAiB,QAASP,EAAS,SAE3D,gBAAA,QACCQ,EAAmB,EAAA,GAClBX,EAAQ,QAAQ,cAAc,iBAAiB,GAAKA,EAAQ,OAAO,OAAOY,EAAAX,EAAI,UAAJ,YAAAW,EAAa,MACxFZ,aAAmBa,GAEjBC,EAAAA,KAAAC,EAAAA,SAAA,CAAA,SAAA,CAAAN,EAAAA,IAACC,GAAkB,KAAK,YAAY,YAAW,GAAC,QAASN,EAAe,SAExE,gBAAA,CAAA,QACCO,EAAmB,CAAA,CAAA,CAAA,EACrB,EAEFF,EAAA,IAACC,EAAA,CACA,KAAK,gBACL,QAASH,EACT,UAAW,CACV,MAAO,CACN,OAAQ,eACR,WAAY,QACZ,aAAc,KAAA,CAEhB,EACA,SAAA,iBAAA,CAAA,CAED,EACD,CAEF"}