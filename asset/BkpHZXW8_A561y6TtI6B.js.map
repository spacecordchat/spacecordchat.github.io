{"version":3,"file":"BkpHZXW8_A561y6TtI6B.js","sources":["../../src/components/MemberList/MemberListItem.tsx"],"sourcesContent":["import { PresenceUpdateStatus } from \"@spacebarchat/spacebar-api-types/v9\";\nimport { observer } from \"mobx-react-lite\";\nimport { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { ContextMenuContext } from \"../../contexts/ContextMenuContext\";\nimport { useAppStore } from \"../../hooks/useAppStore\";\nimport GuildMember from \"../../stores/objects/GuildMember\";\nimport Avatar from \"../Avatar\";\nimport Floating from \"../floating/Floating\";\nimport FloatingTrigger from \"../floating/FloatingTrigger\";\n\nconst ListItem = styled(FloatingTrigger)<{ isCategory?: boolean }>`\n\tpadding: ${(props) => (props.isCategory ? \"16px 8px 0 0\" : \"1px 8px 0 0\")};\n\tcursor: pointer;\n\tuser-select: none;\n`;\n\nconst Container = styled.div`\n\tmax-width: 224px;\n\tbackground-color: transparent;\n\tbox-sizing: border-box;\n\tpadding: 1px 0;\n\tborder-radius: 4px;\n\n\t&:hover {\n\t\tbackground-color: var(--background-primary-alt);\n\t}\n`;\n\nconst Wrapper = styled.div<{ offline?: boolean }>`\n\tdisplay: flex;\n\talign-items: center;\n\tborder-radius: 4px;\n\theight: 42px;\n\tpadding: 0 8px;\n\topacity: ${(props) => (props.offline ? 0.5 : 1)};\n`;\n\nconst Text = styled.span<{ color?: string }>`\n\tfont-size: 16px;\n\tfont-weight: var(--font-weight-regular);\n\twhite-space: nowrap;\n\tcolor: ${(props) => props.color ?? \"var(--text-secondary)\"};\n`;\n\nconst TextWrapper = styled.div`\n\tmin-width: 0;\n\tflex: 1;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n`;\n\nconst AvatarWrapper = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 12px;\n`;\n\ninterface Props {\n\titem: GuildMember;\n}\n\nfunction MemberListItem({ item }: Props) {\n\tconst app = useAppStore();\n\tconst presence = app.presences.get(item.user!.id);\n\tconst contextMenu = useContext(ContextMenuContext);\n\n\treturn (\n\t\t<Floating\n\t\t\tplacement=\"right-start\"\n\t\t\ttype=\"userPopout\"\n\t\t\toffset={20}\n\t\t\tprops={{\n\t\t\t\tuser: item.user!,\n\t\t\t\tmember: item,\n\t\t\t}}\n\t\t>\n\t\t\t<ListItem\n\t\t\t\tkey={item.user?.id}\n\t\t\t\tref={contextMenu.setReferenceElement}\n\t\t\t\tonContextMenu={(e) => contextMenu.onContextMenu(e, { type: \"user\", user: item.user!, member: item })}\n\t\t\t>\n\t\t\t\t<Container>\n\t\t\t\t\t<Wrapper offline={presence?.status === PresenceUpdateStatus.Offline}>\n\t\t\t\t\t\t<AvatarWrapper>\n\t\t\t\t\t\t\t<Avatar user={item.user!} size={32} presence={presence} showPresence onClick={null} />\n\t\t\t\t\t\t</AvatarWrapper>\n\t\t\t\t\t\t<TextWrapper>\n\t\t\t\t\t\t\t<Text color={item.roleColor}>{item.nick ?? item.user?.username}</Text>\n\t\t\t\t\t\t</TextWrapper>\n\t\t\t\t\t</Wrapper>\n\t\t\t\t</Container>\n\t\t\t</ListItem>\n\t\t</Floating>\n\t);\n}\n\nexport default observer(MemberListItem);\n"],"names":["ListItem","styled","FloatingTrigger","props","Container","Wrapper","Text","TextWrapper","AvatarWrapper","MemberListItem","item","presence","useAppStore","contextMenu","useContext","ContextMenuContext","jsx","Floating","e","jsxs","PresenceUpdateStatus","Avatar","_a","_b","MemberListItem$1","observer"],"mappings":"2SAWA,MAAMA,EAAWC,EAAOC,CAAe;AAAA,YAC1BC,GAAWA,EAAM,WAAa,eAAiB,aAAc;AAAA;AAAA;AAAA,EAKpEC,EAAYH,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYnBI,EAAUJ,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAMVE,GAAWA,EAAM,QAAU,GAAM,CAAE;AAAA,EAG1CG,EAAOL,EAAO;AAAA;AAAA;AAAA;AAAA,UAITE,GAAUA,EAAM,OAAS,uBAAuB;AAAA,EAGrDI,EAAcN,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQrBO,EAAgBP,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA,EAW7B,SAASQ,EAAe,CAAE,KAAAC,GAAe,SAExC,MAAMC,EADMC,EAAY,EACH,UAAU,IAAIF,EAAK,KAAM,EAAE,EAC1CG,EAAcC,aAAWC,CAAkB,EAGhD,OAAAC,EAAA,IAACC,EAAA,CACA,UAAU,cACV,KAAK,aACL,OAAQ,GACR,MAAO,CACN,KAAMP,EAAK,KACX,OAAQA,CACT,EAEA,SAAAM,EAAA,IAAChB,EAAA,CAEA,IAAKa,EAAY,oBACjB,cAAgBK,GAAML,EAAY,cAAcK,EAAG,CAAE,KAAM,OAAQ,KAAMR,EAAK,KAAO,OAAQA,EAAM,EAEnG,SAAAM,EAAAA,IAACZ,GACA,SAACe,EAAAA,KAAAd,EAAA,CAAQ,SAASM,GAAA,YAAAA,EAAU,UAAWS,EAAqB,QAC3D,SAAA,CAAAJ,EAAA,IAACR,EACA,CAAA,SAAAQ,EAAA,IAACK,EAAO,CAAA,KAAMX,EAAK,KAAO,KAAM,GAAI,SAAAC,EAAoB,aAAY,GAAC,QAAS,IAAM,CAAA,EACrF,EACCK,EAAA,IAAAT,EAAA,CACA,SAACS,EAAAA,IAAAV,EAAA,CAAK,MAAOI,EAAK,UAAY,SAAAA,EAAK,QAAQY,EAAAZ,EAAK,OAAL,YAAAY,EAAW,SAAA,CAAS,CAChE,CAAA,CAAA,CAAA,CACD,CACD,CAAA,CAAA,GAbKC,EAAAb,EAAK,OAAL,YAAAa,EAAW,EAAA,CAcjB,CACD,CAEF,CAEA,MAAeC,EAAAC,EAAShB,CAAc"}