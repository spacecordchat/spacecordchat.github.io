var h=Object.defineProperty;var l=(s,e,r)=>e in s?h(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var p=(s,e,r)=>l(s,typeof e!="symbol"?e+"":e,r);import{aG as n,ag as b,ai as f,aj as u,ak as g}from"./DIBLJojdTQB51I2zM4gm.js";import{G as v}from"./BHX8nPHppnnJEG84AWuT.js";var c=Object.defineProperty,_=Object.getOwnPropertyDescriptor,a=(s,e,r,t)=>{for(var i=t>1?void 0:t?_(e,r):e,m=s.length-1,d;m>=0;m--)(d=s[m])&&(i=(t?d(e,r,i):d(i))||i);return t&&i&&c(e,r,i),i};class o{constructor(e,r){p(this,"app");p(this,"guild");p(this,"members",new n);this.app=e,this.guild=r,b(this)}add(e){if(!e.user)throw new Error("Member does not have a user");if(this.members.has(e.user.id))return;const r=new v(this.app,this.guild,e);return this.members.set(e.user.id,r),r}addAll(e){e.forEach(r=>this.add(r))}remove(e){this.members.delete(e)}update(e){var r;if(!e.user)throw new Error("Member does not have a user");(r=this.members.get(e.user.id))==null||r.update(e)}get(e){return this.members.get(e)}has(e){return this.members.has(e)}asList(){return Array.from(this.members.values())}get size(){return this.members.size}get me(){var r;const e=(r=this.app.account)==null?void 0:r.id;return e?this.members.get(e):null}async resolve(e,r=!1){if(this.has(e)&&!r)return this.get(e);const t=await this.app.rest.get(`/users/${e}/profile`,{guild_id:this.guild.id});if(t.guild_member)return t.guild_member.user=t.user,this.add(t.guild_member)}}a([f],o.prototype,"members",2);a([u],o.prototype,"add",1);a([u],o.prototype,"addAll",1);a([u],o.prototype,"remove",1);a([u],o.prototype,"update",1);a([g],o.prototype,"me",1);a([u],o.prototype,"resolve",1);export{o as G};
//# sourceMappingURL=D_x2BrCRu1fJOVoTkM-b.js.map
