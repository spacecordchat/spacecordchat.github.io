{"version":3,"file":"Cnmsy16WYtXNaOqz8GD8.js","sources":["../../src/stores/ChannelStore.ts"],"sourcesContent":["import type { APIChannel } from \"@spacebarchat/spacebar-api-types/v9\";\nimport { action, computed, observable, ObservableMap } from \"mobx\";\nimport AppStore from \"./AppStore\";\nimport Channel from \"./objects/Channel\";\n\nexport default class ChannelStore {\n\tprivate readonly app: AppStore;\n\t@observable readonly channels = new ObservableMap<string, Channel>();\n\n\tconstructor(app: AppStore) {\n\t\tthis.app = app;\n\t}\n\n\t@action\n\tadd(channel: APIChannel) {\n\t\tthis.channels.set(channel.id, new Channel(this.app, channel));\n\t}\n\n\t@action\n\tupdate(channel: APIChannel) {\n\t\tconst existing = this.channels.get(channel.id);\n\t\tif (existing) {\n\t\t\texisting.update(channel);\n\t\t} else {\n\t\t\tthis.add(channel);\n\t\t}\n\t}\n\n\t@action\n\taddAll(channels: APIChannel[]) {\n\t\tchannels?.forEach((channel) => this.add(channel));\n\t}\n\n\tget(id: string) {\n\t\treturn this.channels.get(id);\n\t}\n\n\t@computed\n\tget all() {\n\t\treturn Array.from(this.channels.values());\n\t}\n\n\t@action\n\tremove(id: string) {\n\t\tthis.channels.delete(id);\n\t}\n\n\t@computed\n\tget count() {\n\t\treturn this.channels.size;\n\t}\n\n\tsortPosition(channels: Channel[]) {\n\t\treturn channels.sort((a, b) => (a.position ?? 0) - (b.position ?? 0));\n\t}\n\n\thas(id: string) {\n\t\treturn this.channels.has(id);\n\t}\n}\n"],"names":["ChannelStore","app","__publicField","ObservableMap","channel","Channel","existing","channels","id","a","b","__decorateClass","observable","action","computed"],"mappings":"ydAKA,MAAqBA,CAAa,CAIjC,YAAYC,EAAe,CAHVC,EAAA,YACIA,EAAA,gBAAW,IAAIC,GAGnC,KAAK,IAAMF,CAAA,CAIZ,IAAIG,EAAqB,CACnB,KAAA,SAAS,IAAIA,EAAQ,GAAI,IAAIC,EAAQ,KAAK,IAAKD,CAAO,CAAC,CAAA,CAI7D,OAAOA,EAAqB,CAC3B,MAAME,EAAW,KAAK,SAAS,IAAIF,EAAQ,EAAE,EACzCE,EACHA,EAAS,OAAOF,CAAO,EAEvB,KAAK,IAAIA,CAAO,CACjB,CAID,OAAOG,EAAwB,CAC9BA,GAAA,MAAAA,EAAU,QAASH,GAAY,KAAK,IAAIA,CAAO,EAAC,CAGjD,IAAII,EAAY,CACR,OAAA,KAAK,SAAS,IAAIA,CAAE,CAAA,CAI5B,IAAI,KAAM,CACT,OAAO,MAAM,KAAK,KAAK,SAAS,QAAQ,CAAA,CAIzC,OAAOA,EAAY,CACb,KAAA,SAAS,OAAOA,CAAE,CAAA,CAIxB,IAAI,OAAQ,CACX,OAAO,KAAK,SAAS,IAAA,CAGtB,aAAaD,EAAqB,CAC1B,OAAAA,EAAS,KAAK,CAACE,EAAGC,KAAOD,EAAE,UAAY,IAAMC,EAAE,UAAY,EAAE,CAAA,CAGrE,IAAIF,EAAY,CACR,OAAA,KAAK,SAAS,IAAIA,CAAE,CAAA,CAE7B,CApDsBG,EAAA,CAApBC,CAAA,EAFmBZ,EAEC,UAAA,WAAA,CAAA,EAOrBW,EAAA,CADCE,CAAA,EARmBb,EASpB,UAAA,MAAA,CAAA,EAKAW,EAAA,CADCE,CAAA,EAbmBb,EAcpB,UAAA,SAAA,CAAA,EAUAW,EAAA,CADCE,CAAA,EAvBmBb,EAwBpB,UAAA,SAAA,CAAA,EASIW,EAAA,CADHG,CAAA,EAhCmBd,EAiChB,UAAA,MAAA,CAAA,EAKJW,EAAA,CADCE,CAAA,EArCmBb,EAsCpB,UAAA,SAAA,CAAA,EAKIW,EAAA,CADHG,CAAA,EA1CmBd,EA2ChB,UAAA,QAAA,CAAA"}