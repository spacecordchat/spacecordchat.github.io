{"version":3,"file":"BOFIRm11V7GXRK338TYC.js","sources":["../../src/components/GuildSidebar.tsx"],"sourcesContent":["import { observer } from \"mobx-react-lite\";\nimport React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AutoSizer, List, ListRowProps } from \"react-virtualized\";\nimport styled from \"styled-components\";\nimport { modalController } from \"../controllers/modals\";\nimport { useAppStore } from \"../hooks/useAppStore\";\nimport GuildItem, { GuildSidebarListItem } from \"./GuildItem\";\nimport SidebarAction from \"./SidebarAction\";\n\nconst Container = styled.div`\n\tdisplay: flex;\n\tflex: 0 0 72px;\n\tmargin: 4px 0 0 0;\n\n\t// @media (max-width: 560px) {\n\t// \tdisplay: none;\n\t// }\n\n\t.ReactVirtualized__List {\n\t\tscrollbar-width: none; /* Firefox */\n\t\t-ms-overflow-style: none; /* Internet Explorer 10+ */\n\n\t\t&::-webkit-scrollbar {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t}\n\t}\n`;\n\nconst Divider = styled.div`\n\theight: 2px;\n\twidth: 32px;\n\tborder-radius: 1px;\n\tbackground-color: var(--text-disabled);\n`;\n\nfunction GuildSidebar() {\n\tconst app = useAppStore();\n\n\tconst navigate = useNavigate();\n\tconst { all } = app.guilds;\n\tconst itemCount = all.length + 3; // add the home button, divider, and add server button\n\n\tconst rowRenderer = ({ index, key, style }: ListRowProps) => {\n\t\tlet element: React.ReactNode;\n\t\tif (index === 0) {\n\t\t\t// home button\n\t\t\telement = (\n\t\t\t\t<SidebarAction\n\t\t\t\t\tkey=\"home\"\n\t\t\t\t\ttooltip=\"Home\"\n\t\t\t\t\ticon={{\n\t\t\t\t\t\ticon: \"mdiHome\",\n\t\t\t\t\t\tsize: \"24px\",\n\t\t\t\t\t}}\n\t\t\t\t\taction={() => navigate(\"/channels/@me\")}\n\t\t\t\t\tmargin={false}\n\t\t\t\t\tactive={app.activeGuildId === \"@me\"}\n\t\t\t\t/>\n\t\t\t);\n\t\t} else if (index === 1) {\n\t\t\t// divider\n\t\t\telement = (\n\t\t\t\t<GuildSidebarListItem>\n\t\t\t\t\t<Divider key=\"divider\" />\n\t\t\t\t</GuildSidebarListItem>\n\t\t\t);\n\t\t} else if (index === itemCount - 1) {\n\t\t\t// add server button/any other end items\n\t\t\telement = (\n\t\t\t\t<SidebarAction\n\t\t\t\t\tkey=\"add-server\"\n\t\t\t\t\ttooltip=\"Add Server\"\n\t\t\t\t\ticon={{\n\t\t\t\t\t\ticon: \"mdiPlus\",\n\t\t\t\t\t\tsize: \"24px\",\n\t\t\t\t\t\tcolor: \"var(--success)\",\n\t\t\t\t\t}}\n\t\t\t\t\taction={() => {\n\t\t\t\t\t\tmodalController.push({\n\t\t\t\t\t\t\ttype: \"add_server\",\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t\tmargin={false}\n\t\t\t\t\tdisablePill\n\t\t\t\t\tuseGreenColorScheme\n\t\t\t\t/>\n\t\t\t);\n\t\t} else {\n\t\t\t// regular guild item\n\t\t\tconst guild = all[index - 2];\n\t\t\telement = <GuildItem key={key} guild={guild} />;\n\t\t}\n\n\t\treturn <div style={style}>{element}</div>;\n\t};\n\n\treturn (\n\t\t<Container>\n\t\t\t<AutoSizer>\n\t\t\t\t{({ width, height }) => (\n\t\t\t\t\t<List\n\t\t\t\t\t\theight={height}\n\t\t\t\t\t\toverscanRowCount={2}\n\t\t\t\t\t\trowCount={itemCount}\n\t\t\t\t\t\trowHeight={({ index }) => {\n\t\t\t\t\t\t\tif (index === 1) return 8; // divider\n\t\t\t\t\t\t\treturn 56; // item is 48 + 8 top margin\n\t\t\t\t\t\t}}\n\t\t\t\t\t\trowRenderer={rowRenderer}\n\t\t\t\t\t\twidth={width}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</AutoSizer>\n\t\t</Container>\n\t);\n}\n\nexport default observer(GuildSidebar);\n"],"names":["Container","styled","Divider","GuildSidebar","app","useAppStore","navigate","useNavigate","all","itemCount","rowRenderer","index","key","style","element","jsx","SidebarAction","GuildSidebarListItem","modalController","guild","GuildItem","AutoSizer","width","height","List","GuildSidebar$1","observer"],"mappings":"6SAUA,MAAMA,EAAYC,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAoBnBC,EAAUD,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA,EAOvB,SAASE,GAAe,CACvB,MAAMC,EAAMC,EAAY,EAElBC,EAAWC,EAAY,EACvB,CAAE,IAAAC,GAAQJ,EAAI,OACdK,EAAYD,EAAI,OAAS,EAEzBE,EAAc,CAAC,CAAE,MAAAC,EAAO,IAAAC,EAAK,MAAAC,KAA0B,CACxD,IAAAC,EACJ,GAAIH,IAAU,EAGZG,EAAAC,EAAA,IAACC,EAAA,CAEA,QAAQ,OACR,KAAM,CACL,KAAM,UACN,KAAM,MACP,EACA,OAAQ,IAAMV,EAAS,eAAe,EACtC,OAAQ,GACR,OAAQF,EAAI,gBAAkB,KAAA,EAR1B,MASL,UAESO,IAAU,EAEpBG,EACEC,EAAAA,IAAAE,EAAA,CACA,SAACF,EAAA,IAAAb,EAAA,CAAA,EAAY,SAAU,EACxB,UAESS,IAAUF,EAAY,EAG/BK,EAAAC,EAAA,IAACC,EAAA,CAEA,QAAQ,aACR,KAAM,CACL,KAAM,UACN,KAAM,OACN,MAAO,gBACR,EACA,OAAQ,IAAM,CACbE,EAAgB,KAAK,CACpB,KAAM,YAAA,CACN,CACF,EACA,OAAQ,GACR,YAAW,GACX,oBAAmB,EAAA,EAdf,YAeL,MAEK,CAEA,MAAAC,EAAQX,EAAIG,EAAQ,CAAC,EACjBG,EAAAC,EAAAA,IAACK,EAAoB,CAAA,MAAAD,CAAA,EAALP,CAAmB,CAAA,CAGvC,OAAAG,EAAAA,IAAC,MAAI,CAAA,MAAAF,EAAe,SAAQC,CAAA,CAAA,CACpC,EAGC,OAAAC,MAACf,GACA,SAACe,EAAAA,IAAAM,EAAA,CACC,UAAC,CAAE,MAAAC,EAAO,OAAAC,CACV,IAAAR,EAAA,IAACS,EAAA,CACA,OAAAD,EACA,iBAAkB,EAClB,SAAUd,EACV,UAAW,CAAC,CAAE,MAAAE,KACTA,IAAU,EAAU,EACjB,GAER,YAAAD,EACA,MAAAY,CAAA,GAGH,CACD,CAAA,CAEF,CAEA,MAAeG,EAAAC,EAASvB,CAAY"}