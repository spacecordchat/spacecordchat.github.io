{"version":3,"file":"BwYrdcfxKQ4bYHcdIpAq.js","sources":["../../src/components/modals/ImageViewerModal.tsx"],"sourcesContent":["import { APIAttachment, APIEmbedImage, APIEmbedThumbnail, APIEmbedVideo } from \"@spacebarchat/spacebar-api-types/v9\";\nimport styled from \"styled-components\";\nimport { Modal } from \"./ModalComponents\";\n\nconst Container = styled.div`\n\tdisplay: flex;\n\toverflow: hidden;\n\tflex-direction: column;\n\tmax-width: 90vw;\n\tmax-height: 75vh;\n\n\timg {\n\t\tobject-fit: contain;\n\t}\n`;\n\ninterface Props {\n\tattachment: APIAttachment | APIEmbedImage | APIEmbedThumbnail | APIEmbedVideo;\n\twidth?: number;\n\theight?: number;\n\tisVideo?: boolean; // should only be for gifs\n}\n\nexport function ImageViewerModal(props: Props) {\n\tconst width = props.width ?? props.attachment.width ?? 0;\n\tconst height = props.height ?? props.attachment.height ?? 0;\n\n\treturn (\n\t\t<Modal\n\t\t\t{...props}\n\t\t\ttransparent\n\t\t\tmaxWidth=\"100vw\"\n\t\t\tmaxHeight=\"100vh\"\n\t\t\twithoutCloseButton\n\t\t\twithEmptyActionBar\n\t\t\tpadding=\"0\"\n\t\t>\n\t\t\t<Container>\n\t\t\t\t{props.isVideo ? (\n\t\t\t\t\t<video\n\t\t\t\t\t\tloop\n\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\tonContextMenu={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<source src={props.attachment.url} />\n\t\t\t\t\t</video>\n\t\t\t\t) : (\n\t\t\t\t\t<img src={props.attachment.url} width={width} height={height} loading=\"eager\" />\n\t\t\t\t)}\n\t\t\t</Container>\n\t\t</Modal>\n\t);\n}\n"],"names":["Container","styled","ImageViewerModal","props","width","height","jsx","Modal","e"],"mappings":"mGAIA,MAAMA,EAAYC,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAmBlB,SAASC,EAAiBC,EAAc,CAC9C,MAAMC,EAAQD,EAAM,OAASA,EAAM,WAAW,OAAS,EACjDE,EAASF,EAAM,QAAUA,EAAM,WAAW,QAAU,EAGzD,OAAAG,EAAA,IAACC,EAAA,CACC,GAAGJ,EACJ,YAAW,GACX,SAAS,QACT,UAAU,QACV,mBAAkB,GAClB,mBAAkB,GAClB,QAAQ,IAER,SAAAG,EAAA,IAACN,EACC,CAAA,SAAAG,EAAM,QACNG,EAAA,IAAC,QAAA,CACA,KAAI,GACJ,SAAQ,GACR,cAAgBE,GAAM,CACrBA,EAAE,eAAe,EACjBA,EAAE,gBAAgB,CACnB,EAEA,SAACF,EAAA,IAAA,SAAA,CAAO,IAAKH,EAAM,WAAW,GAAK,CAAA,CAAA,CACpC,EAECG,MAAA,MAAA,CAAI,IAAKH,EAAM,WAAW,IAAK,MAAAC,EAAc,OAAAC,EAAgB,QAAQ,OAAQ,CAAA,CAEhF,CAAA,CAAA,CACD,CAEF"}