{"version":3,"file":"Dy3eOKzLEOe8y8yKgVei.js","sources":["../../src/components/modals/SettingsPages/ExperimentsPage.tsx"],"sourcesContent":["import { observer } from \"mobx-react-lite\";\nimport { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { useAppStore } from \"../../../hooks/useAppStore\";\nimport { EXPERIMENT_LIST, Experiment as ExperimentType } from \"../../../stores/ExperimentsStore\";\nimport SectionTitle from \"../../SectionTitle\";\n\nconst Content = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nconst ExperimentList = styled.ul`\n\tdisplay: grid;\n\tlist-style: none;\n\tpadding: 0;\n\tmargin: 0;\n\tgap: 10px;\n`;\n\nconst Experiment = styled.li`\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nconst Title = styled.span`\n\tfont-size: 16px;\n\tfont-weight: var(--font-weight-medium);\n\tcolor: var(--text);\n`;\n\nconst Subtitle = styled.div`\n\tcolor: var(--text-disabled);\n\tfont-size: 14px;\n\tfont-weight: var(--font-weight-regular);\n`;\n\nconst OverrideText = styled.div`\n\tcolor: var(--text.muted);\n\tmargin-bottom: 10px;\n\tfont-size: 12px;\n\tfont-weight: var(--font-weight-bold);\n`;\n\nconst Select = styled.select`\n\tappearance: none;\n\t/* safari */\n\t-webkit-appearance: none;\n\tbackground-color: var(--background-tertiary);\n\tborder-color: var(--background-tertiary);\n\tcolor: var(--text);\n\tfont-weight: var(--font-weight-medium);\n\tborder: 1px solid transparent;\n\tpadding: 8px 8px 8px 12px;\n\tcursor: pointer;\n\tdisplay: grid;\n\tgrid-template-columns: 1fr auto;\n\talign-items: center;\n\tborder-radius: 4px;\n`;\n\nfunction ExperimentItem({ experiment }: { experiment: ExperimentType }) {\n\tconst app = useAppStore();\n\tconst isActive = app.experiments.isExperimentEnabled(experiment.id);\n\tconst activeTreatment = app.experiments.getTreatment(experiment.id);\n\tconst [isExpanded, setExpanded] = useState(isActive);\n\n\tconst toggle = () => setExpanded(!isExpanded);\n\n\tconst onChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n\t\tconst value = Number.parseInt(e.target.value);\n\t\tapp.experiments.setTreatment(experiment.id, value);\n\t};\n\n\treturn (\n\t\t<Experiment key={experiment.id}>\n\t\t\t<div style={{ marginBottom: \"10px\", cursor: \"pointer\" }} onClick={toggle}>\n\t\t\t\t<Title>{experiment.name}</Title>\n\t\t\t\t<Subtitle>{experiment.description}</Subtitle>\n\t\t\t</div>\n\t\t\t{isExpanded && (\n\t\t\t\t<div style={{ display: \"flex\", flexDirection: \"column\" }}>\n\t\t\t\t\t<OverrideText>Treatment Override</OverrideText>\n\t\t\t\t\t<Select onChange={onChange}>\n\t\t\t\t\t\t{experiment.treatments.map((treatment) => (\n\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\tkey={treatment.id}\n\t\t\t\t\t\t\t\tvalue={treatment.id}\n\t\t\t\t\t\t\t\tselected={(!isActive && treatment.id === 0) || activeTreatment?.id === treatment.id}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{`${treatment.name}${treatment.description ? \": \" + treatment.description : \"\"}`}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Select>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Experiment>\n\t);\n}\n\nfunction ExperimentsPage() {\n\tconst app = useAppStore();\n\n\treturn (\n\t\t<div>\n\t\t\t<SectionTitle>Experiments</SectionTitle>\n\t\t\t<Content>\n\t\t\t\t<ExperimentList>\n\t\t\t\t\t{EXPERIMENT_LIST.map((experiment) => (\n\t\t\t\t\t\t<ExperimentItem experiment={experiment} />\n\t\t\t\t\t))}\n\t\t\t\t</ExperimentList>\n\t\t\t</Content>\n\t\t</div>\n\t);\n}\n\nexport default observer(ExperimentsPage);\n"],"names":["Content","styled","ExperimentList","Experiment","Title","Subtitle","OverrideText","Select","ExperimentItem","experiment","app","useAppStore","isActive","activeTreatment","isExpanded","setExpanded","useState","toggle","onChange","e","value","jsxs","jsx","treatment","ExperimentsPage","SectionTitle","EXPERIMENT_LIST","ExperimentsPage$1","observer"],"mappings":"6MAOA,MAAMA,EAAUC,EAAO;AAAA;AAAA;AAAA,EAKjBC,EAAiBD,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQxBE,EAAaF,EAAO;AAAA;AAAA;AAAA,EAKpBG,EAAQH,EAAO;AAAA;AAAA;AAAA;AAAA,EAMfI,EAAWJ,EAAO;AAAA;AAAA;AAAA;AAAA,EAMlBK,EAAeL,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA,EAOtBM,EAASN,EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAiBtB,SAASO,EAAe,CAAE,WAAAC,GAA8C,CACvE,MAAMC,EAAMC,EAAY,EAClBC,EAAWF,EAAI,YAAY,oBAAoBD,EAAW,EAAE,EAC5DI,EAAkBH,EAAI,YAAY,aAAaD,EAAW,EAAE,EAC5D,CAACK,EAAYC,CAAW,EAAIC,EAAAA,SAASJ,CAAQ,EAE7CK,EAAS,IAAMF,EAAY,CAACD,CAAU,EAEtCI,EAAYC,GAA4C,CAC7D,MAAMC,EAAQ,OAAO,SAASD,EAAE,OAAO,KAAK,EAC5CT,EAAI,YAAY,aAAaD,EAAW,GAAIW,CAAK,CAClD,EAEA,cACEjB,EACA,CAAA,SAAA,CAACkB,EAAAA,KAAA,MAAA,CAAI,MAAO,CAAE,aAAc,OAAQ,OAAQ,SAAa,EAAA,QAASJ,EACjE,SAAA,CAACK,EAAAA,IAAAlB,EAAA,CAAO,WAAW,IAAK,CAAA,EACxBkB,EAAAA,IAACjB,EAAU,CAAA,SAAAI,EAAW,WAAY,CAAA,CAAA,EACnC,EACCK,UACC,MAAI,CAAA,MAAO,CAAE,QAAS,OAAQ,cAAe,QAC7C,EAAA,SAAA,CAAAQ,EAAAA,IAAChB,GAAa,SAAkB,oBAAA,CAAA,QAC/BC,EAAO,CAAA,SAAAW,EACN,WAAW,WAAW,IAAKK,GAC3BD,EAAA,IAAC,SAAA,CAEA,MAAOC,EAAU,GACjB,SAAW,CAACX,GAAYW,EAAU,KAAO,IAAMV,GAAA,YAAAA,EAAiB,MAAOU,EAAU,GAEhF,SAAA,GAAGA,EAAU,IAAI,GAAGA,EAAU,YAAc,KAAOA,EAAU,YAAc,EAAE,EAAA,EAJzEA,EAAU,EAAA,CAMhB,CACF,CAAA,CAAA,CACD,CAAA,CAAA,CAAA,EAnBed,EAAW,EAqB5B,CAEF,CAEA,SAASe,GAAkB,CAG1B,cACE,MACA,CAAA,SAAA,CAAAF,EAAAA,IAACG,GAAa,SAAW,aAAA,CAAA,EACxBH,EAAA,IAAAtB,EAAA,CACA,SAACsB,EAAA,IAAApB,EAAA,CACC,SAAgBwB,EAAA,IAAKjB,GACpBa,EAAAA,IAAAd,EAAA,CAAe,WAAAC,CAAwB,CAAA,CACxC,EACF,CACD,CAAA,CAAA,EACD,CAEF,CAEA,MAAekB,EAAAC,EAASJ,CAAe"}